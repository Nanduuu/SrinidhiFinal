(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/logo.aef700a2.png"},131:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=131},278:function(e,t,a){e.exports=a(591)},283:function(e,t,a){},285:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},286:function(e,t,a){},375:function(e,t,a){},546:function(e,t){},548:function(e,t){},549:function(e,t){},550:function(e,t){},551:function(e,t){},585:function(e,t,a){e.exports=a.p+"static/media/output.93d36099.pdf"},586:function(e,t){},591:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(14),r=a.n(s),i=(a(283),a(15)),c=a(16),o=a(18),d=a(17),m=a(19),u=(a(285),a(286),a(28)),E=a(11),p=a(614),f=a(611),b=a(73),h=a(101),g=a.n(h),y=a(605),O=a(22),C=a(603),x=(l.a.Component,a(188)),_=a(25),D=a.n(_),v=a(608),S=a(595),j=x.a.Option,T=function(e){v.a.success(e)},I=function(e){v.a.error(e)},w={width:"100%",padding:"2px 2px"},k={position:"fixed",height:"50%",width:"100%",background:"#4292f4"},A={position:"fixed",top:"50%",height:"40%",width:"100%"},R={position:"fixed",top:"90%",height:"40%",width:"100%",background:"#4292f4"},N={margin:"5px",textAlign:"left"},L={borderRadius:"10px",border:"2px solid #4292f4",backgroundColor:"white",padding:"10px"},F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleChangeStaff=function(e){a.setState({Stafftype:e})},a.Onchange=function(e){var t=e.target.name,n=e.target.value;switch(t){case"Fname":a.setState({Fname:n});break;case"Lname":a.setState({Lname:n});break;case"Email":a.setState({Email:n});break;case"Tel":a.setState({Tel:n});break;case"Pword":a.setState({Pword:n});break;case"Rpword":a.setState({Rpword:n})}console.log(a.state)},a.onCheck=function(){a.state.Pword!==a.state.Rpword&&I("password did not match")},a.handleOk=function(e){if(e.preventDefault(),a.state.Pword!==a.state.Rpword&&null!==a.state.Pword)I("password did not match");else{var t=new FormData;t.append("Fname",a.state.Fname),t.append("Lname",a.state.Lname),t.append("Email",a.state.Email),t.append("Tel",a.state.Tel),t.append("Pword",a.state.Pword),t.append("Stafftype",a.state.Stafftype);D.a.post("/api/newuser/",t).then(function(e){1!=e.data.success?I(e.data.msg):1==e.data.success&&(T(e.data.msg),a.setState({regSuccess:!0}))}).catch(function(e){})}},a.state={visible:!1,loading:!1,Fname:"",Lname:"",Email:"",Stafftype:"",Tel:"",Pword:"",Rpword:"",regSuccess:!1},a.Onchange=a.Onchange.bind(Object(E.a)(Object(E.a)(a))),a.onCheck=a.onCheck.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.regSuccess?l.a.createElement(S.a,{to:"/"}):null,l.a.createElement(p.a,null,l.a.createElement("div",{style:k}),l.a.createElement("div",{style:A}),l.a.createElement("div",{style:R}),l.a.createElement("div",{style:{position:"absolute",top:"25%",width:"100%",height:"50%"}},l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}),l.a.createElement(f.a,{xs:20,sm:22,md:16,lg:12,xl:12},l.a.createElement("form",{onSubmit:this.handleOk},l.a.createElement("div",{style:L},l.a.createElement("div",{style:{marginTop:"2%",width:"100%",color:"white"}},l.a.createElement("h3",null,"  NEW USER FORM ")),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null,"First Name ")),l.a.createElement(y.a,{name:"Fname",onChange:this.Onchange,style:w,required:!0}),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Last Name ")," "),l.a.createElement(y.a,{name:"Lname",onChange:this.Onchange,style:w}),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Email ID ")," "),l.a.createElement(y.a,{name:"Email",type:"email",onChange:this.Onchange,style:w,required:!0}),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Designation ")," "),l.a.createElement(x.a,{value:this.state.Stafftype,onChange:this.handleChangeStaff,required:!0},l.a.createElement(j,{value:"Doctor"},"Doctor"),l.a.createElement(j,{value:"Nurse"},"Nurse"),l.a.createElement(j,{value:"Health Care assistant (HCA)"},"Health Care assistant (HCA)"),l.a.createElement(j,{value:"Domestic worker"},"Domestic worker"),l.a.createElement(j,{value:"Domestic assistant"},"Domestic assistant"),l.a.createElement(j,{value:"Domiciliary carer"},"Domiciliary carer")),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Phone Number ")," "),l.a.createElement(y.a,{name:"Tel",type:"tel",onChange:this.Onchange,style:w,required:!0}),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Password ")," "),l.a.createElement(y.a,{name:"Pword",type:"password",onChange:this.Onchange,style:w,required:!0}),l.a.createElement("div",{style:N}," ",l.a.createElement("b",null," Confirm Password  ")," "),l.a.createElement(y.a,{name:"Rpword",type:"password",onBlur:this.onCheck,style:w,onChange:this.Onchange,required:!0}),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(y.a,{style:{marginTop:"1%",width:"100%"},type:"submit",value:"Submit"})),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(b.a,{type:"primary",style:{marginTop:"1%",width:"100%"}},l.a.createElement(S.a,{to:"/"},"Back ")),"                  "))))),l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}))))}}]),t}(l.a.Component);var J=a(610),P={position:"fixed",height:"50%",width:"100%",background:"#4292f4"},M={position:"fixed",top:"50%",height:"40%",width:"100%"},U={position:"fixed",top:"90%",height:"40%",width:"100%",background:"#4292f4"},B={borderRadius:"25px",border:"2px solid #4292f4",backgroundColor:"white"},Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).Onchange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state)},a.isredirect=function(e){return"staff"==e?l.a.createElement(J.a,{to:"/staff"}):"admin"==e?l.a.createElement(J.a,{to:"/admin"}):null},a.state={email:"",pword:""},a.Onchange=a.Onchange.bind(Object(E.a)(Object(E.a)(a))),a.isredirect=a.isredirect.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return this.isredirect(this.props.Role),l.a.createElement("div",null,this.isredirect(this.props.Role),l.a.createElement("div",{style:P}),l.a.createElement("div",{style:M}),l.a.createElement("div",{style:U}),l.a.createElement("div",{style:{position:"absolute",top:"25%",width:"100%",height:"50%"}},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}),l.a.createElement(f.a,{xs:20,sm:22,md:16,lg:12,xl:12,style:B},l.a.createElement("div",{style:{padding:"10px"}},l.a.createElement("img",{src:g.a,width:"15%"})),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(p.a,{style:{padding:"10px"}},l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}),l.a.createElement(f.a,{xs:20,sm:22,md:16,lg:12,xl:12},l.a.createElement("p",{style:{color:"red"}},this.props.authFailed?"Authentication failed":" "),l.a.createElement("p",{style:{color:"red"}}," "!=this.props.authenticationMsg?this.props.authenticationMsg:" "),l.a.createElement(y.a,{name:"email",type:"email",onChange:this.Onchange,placeholder:"Please enter emial Id",required:!0}),l.a.createElement(y.a,{name:"pword",type:"password",onChange:this.Onchange,placeholder:"Enter password",required:!0})),l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6})),l.a.createElement(p.a,{style:{padding:"10px"}},l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}),l.a.createElement(f.a,{xs:20,sm:22,md:16,lg:12,xl:12},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(y.a,{type:"submit",style:{width:"100%"},value:"Submit"})),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(b.a,{style:{width:"100%"}},l.a.createElement(S.a,{to:"/newuser/"},"New user ? "))))),l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}))))),l.a.createElement(f.a,{xs:2,sm:1,md:4,lg:6,xl:6}))))}}]),t}(n.Component),H=Object(O.b)(function(e){return{authFailed:e.Reducer.authFailed,isauthenticated:e.Reducer.isauthenticated,Role:e.Reducer.user.Role,authenticationMsg:e.Reducer.authenticationMsg}},function(e){return{login:function(t){e({type:"LOGIN",payload:t})}}})(Y),G=a(615),V=a(613),q=a(10),z=(l.a.Component,l.a.Component,a(612)),W=a(596),K=(a(375),{width:"100%",background:"#6699ff",color:"white",padding:"3px"}),Z={width:"60px",borderRadius:"0px",float:"left",padding:"1px"},$=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Header"},this.props.authenticated?null:l.a.createElement(J.a,{to:"/"}),l.a.createElement(p.a,{style:K},l.a.createElement(f.a,{xs:6,sm:3,md:3,lg:2,xl:2},l.a.createElement("img",{src:g.a,width:"75%",style:Z})),l.a.createElement(f.a,{xs:12,sm:16,md:17,lg:18,xl:18}),l.a.createElement(f.a,{xs:0,sm:2,md:1,lg:2,xl:2}),l.a.createElement(f.a,{xs:5,sm:3,md:3,lg:2,xl:2},l.a.createElement(z.a,{status:"success",dot:!0},l.a.createElement(W.a,{shape:"circle",icon:"user"})),l.a.createElement("div",null,l.a.createElement("a",{style:{margin:"auto",position:"relative",color:"white"},onClick:this.props.logout}," ",l.a.createElement(q.a,{type:"logout",style:{color:"white"}})," Logout")))),l.a.createElement(p.a,{style:{backgroundColor:"#5f5f5f"}},l.a.createElement(f.a,{style:{color:"white",textAlign:"right",margin:"10px"}},l.a.createElement("b",null," ",(new Date).toISOString().slice(0,10)))))}}]),t}(l.a.Component),Q=Object(O.b)(function(e){return{Fname:e.Reducer.user.Fname,Lname:e.Reducer.user.Lname,Role:e.Reducer.user.Role,authenticated:e.Reducer.isauthenticated}},function(e){return{logout:function(){e({type:"LOGOUT"})}}})($),X=a(142),ee=a(592),te=(ee.a.SubMenu,ee.a.ItemGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a.componentDidMount=function(){switch(a.props.location.pathname){case"/admin/jobdetails":a.setState({current:"JOB DETAILS"});break;case"/admin/clientdetails":a.setState({current:"CLIENT DETAILS"});break;case"/admin/invoiceprocess":a.setState({current:"INVOICE"});break;case"/admin/UserDetails":a.setState({current:"USER DETAILS"})}},a.state={current:"DASHBOARD"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ee.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal"},l.a.createElement(ee.a.Item,{key:"DASHBOARD"},l.a.createElement(S.a,{to:this.props.match.url},"  ",l.a.createElement(q.a,{type:"plus-square"}),"  DASHBOARD  ")),l.a.createElement(ee.a.Item,{key:"JOB DETAILS"},l.a.createElement(S.a,{to:this.props.match.url+"/jobdetails"}," ",l.a.createElement(q.a,{type:"clock-circle"}),"JOB DETAILS ")),l.a.createElement(ee.a.Item,{key:"CLIENT DETAILS"},l.a.createElement(S.a,{to:this.props.match.url+"/clientdetails"},"  ",l.a.createElement(q.a,{type:"user"}),"CLIENT DETAILS ")),l.a.createElement(ee.a.Item,{key:"INVOICE"},l.a.createElement(S.a,{to:this.props.match.url+"/invoiceprocess"},"  ",l.a.createElement(q.a,{type:"bars"}),"INVOICE ")),l.a.createElement(ee.a.Item,{key:"USER DETAILS"},l.a.createElement(S.a,{to:this.props.match.url+"/UserDetails"},"  ",l.a.createElement(q.a,{type:"user"}),"USER DETAILS "))))}}]),t}(l.a.Component)),ae=a(257),ne=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=l.a.createElement(ee.a,null,l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/admin/"},"  ",l.a.createElement(q.a,{type:"plus-square"}),"DASHBOARD")),l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/admin/jobdetails"}," ",l.a.createElement(q.a,{type:"clock-circle"}),"JOB DETAILS ")),l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/admin/clientdetails"},"  ",l.a.createElement(q.a,{type:"user"}),"CLIENT DETAILS ")),l.a.createElement(ee.a.Item,{key:"Invoice Process"},l.a.createElement(S.a,{to:this.props.match.url+"/invoiceprocess"},"  ",l.a.createElement(q.a,{type:"user"}),"Invoice Process ")),l.a.createElement(ee.a.Item,{key:"USER DETAILS"},l.a.createElement(S.a,{to:this.props.match.url+"/UserDetails"},"  ",l.a.createElement(q.a,{type:"user"}),"USER DETAILS ")));return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:2,sm:2,md:2},l.a.createElement(ae.a,{overlay:e,trigger:["click"],placement:"bottomCenter"},l.a.createElement(b.a,null,l.a.createElement(q.a,{type:"menu-fold",theme:"outlined",style:{width:"50%",height:"100%"}}))))))}}]),t}(l.a.Component),le=a(21),se=a.n(le),re=a(597);y.a.TextArea,x.a.Option;var ie={width:"100%",padding:"5px"},ce={textAlign:"left",paddingTop:"10px"},oe={width:"90%"},de=function(e){v.a.success(e)},me=function(e){v.a.error(e)},ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleMenuClick=function(e){console.log("click",e)},a.componentWillReceiveProps=function(e){1==e.addClientSuccess&&e.msg.length>0&&(a.reset(),a.props.setaddclient(),de(e.msg)),0==e.addClientSuccess&&e.msg.length>0&&me(e.msg)},a.validateUser=function(){if(0==a.props.role)return!1},a.Onchange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.isvalidated=function(){if("staff"!==a.props.role)return!0},a.status=function(){""!=a.props.msg&&(a.props.addClientSuccess?de(a.props.msg):me(a.props.msg))},a.reset=function(){console.log(a.state),a.setState({ct_name:"",ct_id:a.props.nextClientId,ct_street_name:"",ct_pin:"",ct_street_number:"",ct_city_name:""}),console.log(a.state)},a.Onsubmit=function(e){e.preventDefault();var t={};t.ct_name=a.state.ct_name,t.ct_city_name=a.state.ct_city_name,t.ct_street_number=a.state.ct_street_number,t.ct_street_name=a.state.ct_street_name,t.ct_pin=a.state.ct_pin,a.props.addClient(t)},a.state={size:"default",isauthenticated:!0,ct_name:"",ct_street_number:"",ct_street_name:"",ct_city_name:"",ct_pin:""},a.handleMenuClick=a.handleMenuClick.bind(Object(E.a)(Object(E.a)(a))),a.validateUser=a.validateUser.bind(Object(E.a)(Object(E.a)(a))),a.Onchange=a.Onchange.bind(Object(E.a)(Object(E.a)(a))),a.reset=a.reset.bind(Object(E.a)(Object(E.a)(a))),a.status=a.status.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setaddclient()}},{key:"componentWillMount",value:function(){var e=this.validateUser();this.setState({isValidated:e})}},{key:"render",value:function(){l.a.createElement(ee.a,{onClick:this.handleMenuClick},l.a.createElement(ee.a.Item,{key:"1"},l.a.createElement(q.a,{type:"user"}),"1st menu item"),l.a.createElement(ee.a.Item,{key:"2"},l.a.createElement(q.a,{type:"user"}),"2nd menu item"),l.a.createElement(ee.a.Item,{key:"3"},l.a.createElement(q.a,{type:"user"}),"3rd item"));return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),this.state.isauthenticated?l.a.createElement("div",null,l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5},this.props.addClientSuccess?this.status:null),l.a.createElement(f.a,{xs:20,sm:20,md:16,lg:14},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement("form",{onSubmit:this.Onsubmit},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8,style:ce},l.a.createElement("label",null,l.a.createElement("b",null,"Client Name"))),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,{name:"ct_name",value:this.state.ct_name,style:ie,onChange:this.Onchange,required:!0}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8,style:ce},l.a.createElement("label",{style:ce}," ",l.a.createElement("b",null," Street Number ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,{name:"ct_street_number",value:this.state.ct_street_number,style:ie,onChange:this.Onchange,required:!0}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8,style:ce},l.a.createElement("label",null," ",l.a.createElement("b",null," Street Name "))),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,{name:"ct_street_name",value:this.state.ct_street_name,style:ie,onChange:this.Onchange,required:!0}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8,style:ce},l.a.createElement("label",null," ",l.a.createElement("b",null," City Name ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,{name:"ct_city_name",value:this.state.ct_city_name,style:ie,onChange:this.Onchange,required:!0}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8,style:ce},l.a.createElement("label",null," ",l.a.createElement("b",null," Pin Code ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,{name:"ct_pin",placeholder:"Please enter AlphaNumeric Pincode",pattern:"^[0-9a-zA-Z_ ]{1,8}$",style:ie,value:this.state.ct_pin,onChange:this.Onchange,required:!0}))),l.a.createElement(p.a,{style:{paddingTop:"10px"}},l.a.createElement(f.a,{xs:12,sm:12,md:8,lg:8},l.a.createElement(y.a,{type:"submit",disabled:this.props.statusInd,style:oe,value:"Add"})),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"danger ",style:oe,disabled:this.props.statusInd,onClick:this.reset},"Reset"))))),l.a.createElement(f.a,null))),l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5}))):l.a.createElement(J.a,{to:"/PageNotFound"}))}}]),t}(l.a.Component),Ee=Object(O.b)(function(e){return{userName:e.Reducer.user.Fname,authenticated:e.Reducer.isauthenticated,statusInd:e.Reducer.actions.addclient,role:e.Reducer.user.Role,msg:e.ClientDetails.addClientMsg,addClientSuccess:e.ClientDetails.addClientSuccess}},function(e){return{addClient:function(t){e(function(e){return{type:"ADDCLIENT",payload:e}}(t))},beginAddCleint:function(){e({type:"BEGIN_ADD_CLIENT"})},setaddclient:function(){e({type:"SET_ADD_CLIENT"})}}})(ue),pe=x.a.Option,fe=function(e){v.a.success(e)},be=function(e){v.a.error(e)},he={textAlign:"center",paddingTop:"5px"},ge={width:"90%"},ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).disableOnSelect=function(e){a.setState({disableSelectedClient:e})},a.enableOnSelect=function(e){a.setState({enableSelectedClient:e})},a.isvalidated=function(){if("staff"!==a.props.role)return!0},a.disable=function(){a.props.resetDisableClient(),a.state.disableSelectedClient?a.props.disableClient(a.state.disableSelectedClient):be("Please select client")},a.enable=function(){a.state.enableSelectedClient?a.props.enableClient(a.state.enableSelectedClient):be("Please select client")},a.componentWillReceiveProps=function(e){""!=e.disableMsg&&(1==e.disableFlag&&(fe(e.disableMsg),a.reset()),0==e.disableFlag&&(be(e.disableMsg),a.reset())),""!=e.enableMsg&&(1==e.enableFlag&&(fe(e.enableMsg),a.reset()),0==e.enableFlag&&(be(e.enableMsg),a.reset()))},a.reset=function(){a.setState({enableSelectedClient:"",disableSelectedClient:""}),a.props.resetDisableClient(),a.props.resetEnableClient(),a.props.activegetClients(),a.props.inactivegetClients()},a.loadActiveClients=function(e){return e.map(function(e){return l.a.createElement(pe,{key:e,value:e},e)})},a.state={disableSelectedClient:"",enableSelectedClient:""},a.loadAtiveClients=a.loadActiveClients.bind(Object(E.a)(Object(E.a)(a))),a.disableOnSelect=a.disableOnSelect.bind(Object(E.a)(Object(E.a)(a))),a.enableOnSelect=a.enableOnSelect.bind(Object(E.a)(Object(E.a)(a))),a.disable=a.disable.bind(Object(E.a)(Object(E.a)(a))),a.enable=a.enable.bind(Object(E.a)(Object(E.a)(a))),a.isvalidated=a.isvalidated.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.activegetClients(),this.props.inactivegetClients()}},{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5}),l.a.createElement(f.a,{xs:24,sm:24,md:16,lg:14},l.a.createElement("form",{onSubmit:this.OnSubmit},l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8,style:he},l.a.createElement("lable",null," ",l.a.createElement("b",null," Select client to disable "),"  ")),l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8},l.a.createElement(x.a,{onSelect:this.disableOnSelect,value:this.state.disableSelectedClient,style:{width:"90%"}},this.loadActiveClients(this.props.activeClients))),l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8},l.a.createElement(b.a,{type:"primary",onClick:this.disable,style:ge}," Disable "))),l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8,style:he},l.a.createElement("lable",null," ",l.a.createElement("b",null," Select client to enable "),"  ")),l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8},l.a.createElement(x.a,{onSelect:this.enableOnSelect,value:this.state.enableSelectedClient,style:{width:"90%"}},this.loadActiveClients(this.props.inactiveClients))),l.a.createElement(f.a,{xs:24,sm:24,md:8,lg:8},l.a.createElement(b.a,{type:"primary",onClick:this.enable,style:ge}," Enable"))))),l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5})))}}]),t}(l.a.Component),Oe=Object(O.b)(function(e){return{role:e.Reducer.user.Role,activeClients:e.ClientDetails.activeClients,inactiveClients:e.ClientDetails.inactiveClients,disableMsg:e.ClientDetails.disableClientMsg,disableFlag:e.ClientDetails.disableClientFlag,enableMsg:e.ClientDetails.enableClientMsg,enableFlag:e.ClientDetails.enableClientFlag}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},inactivegetClients:function(){e({type:"INACTIVEGETCLIENTS"})},disableClient:function(t){e(function(e){return{type:"DISABLECLIENT",payload:e}}(t))},enableClient:function(t){e(function(e){return{type:"ENABLECLINET",payload:e}}(t))},resetDisableClient:function(){e({type:"RESET_DISABLE_CLIENT"})},resetEnableClient:function(){e({type:"RESET_DISABLE_CLIENT"})}}})(ye),Ce=x.a.Option,xe=(y.a.TextArea,{width:"90%",padding:"5px"}),_e={textAlign:"left",paddingTop:"10px"},De={width:"90%"},ve=function(e){v.a.success(e)},Se=function(e){v.a.error(e)},je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).componentWillReceiveProps=function(e){e.editClient!=a.props.editClient&&a.setState({ct_street_number:e.editClient.ct_street_number,ct_street_name:e.editClient.ct_street_name,ct_pin:e.editClient.ct_pincode,ct_city_name:e.editClient.ct_city_name,ct_id:e.editClient.ct_id}),e.updateClientMsg&&(1==e.updateClientFlag&&(ve(e.updateClientMsg),a.reset()),0==e.updateClientFlag&&Se(e.updateClientMsg))},a.Onchange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.OnSubmit=function(){if(a.state.ct_city_name&&a.state.ct_street_name&&a.state.ct_street_number&&a.state.ct_pin){var e={ct_id:a.state.ct_id,ct_name:a.state.ct_name,ct_street_number:a.state.ct_street_number,ct_street_name:a.state.ct_street_name,ct_city_name:a.state.ct_city_name,ct_pincode:a.state.ct_pin};a.props.updateEditClient(e)}else Se("Please fill all the fields")},a.OnSelect=function(e){a.setState({ct_name:e}),a.props.getEditClient(e)},a.reset=function(){console.log(a.state),a.setState({ct_name:"",ct_id:a.props.nextClientId,ct_street_name:"",ct_pin:"",ct_street_number:"",ct_city_name:""}),console.log(a.state)},a.loadActiveClients=function(e){return e.map(function(e){return l.a.createElement(Ce,{key:e,value:e},e)})},a.state={clients:[],ct_name:"",ct_street_number:"",ct_street_name:"",ct_city_name:"",ct_pin:"",ct_id:""},a.loadAtiveClients=a.loadActiveClients.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.activegetClients()}},{key:"render",value:function(){var e,t,a,n;return l.a.createElement("div",null,l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5}),l.a.createElement(f.a,{xs:20,sm:20,md:16,lg:14},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:_e},l.a.createElement("label",null," ",l.a.createElement("b",null," Selct Client ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(x.a,{onSelect:this.OnSelect,value:this.state.ct_name,style:{width:"90%"}},this.loadActiveClients(this.props.clients)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:_e},l.a.createElement("label",{style:_e}," ",l.a.createElement("b",null," Street Number "))),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,(e={style:{width:"90%"},name:"ct_street_number",value:this.state.ct_street_number},Object(u.a)(e,"style",xe),Object(u.a)(e,"onChange",this.Onchange),Object(u.a)(e,"required",!0),e)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:_e},l.a.createElement("label",null," ",l.a.createElement("b",null,"Street Name "))),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,(t={style:{width:"90%"},name:"ct_street_name",value:this.state.ct_street_name},Object(u.a)(t,"style",xe),Object(u.a)(t,"onChange",this.Onchange),Object(u.a)(t,"required",!0),t)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:_e},l.a.createElement("label",null," ",l.a.createElement("b",null," City Name ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,(a={style:{width:"90%"},name:"ct_city_name",value:this.state.ct_city_name},Object(u.a)(a,"style",xe),Object(u.a)(a,"onChange",this.Onchange),Object(u.a)(a,"required",!0),a)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:_e},l.a.createElement("label",null," ",l.a.createElement("b",null," Pin Code ")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(y.a,(n={style:{width:"90%"},name:"ct_pin",placeholder:"Please enter AlphaNumeric Pincode",pattern:"^[0-9a-zA-Z_ ]{1,8}$"},Object(u.a)(n,"style",xe),Object(u.a)(n,"value",this.state.ct_pin),Object(u.a)(n,"onChange",this.Onchange),Object(u.a)(n,"required",!0),n)))),l.a.createElement(p.a,{style:{paddingTop:"10px"}},l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"primary",onClick:this.OnSubmit,style:De},"UPDATE ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"danger ",style:De,onClick:this.reset},"RESET")))),l.a.createElement(f.a,null))),l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5})))}}]),t}(l.a.Component),Te=Object(O.b)(function(e){return{clients:e.ClientDetails.activeClients,editClient:e.ClientDetails.getEditClient,updateClientFlag:e.ClientDetails.updateClientFlag,updateClientMsg:e.ClientDetails.updateClientMsg}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},getEditClient:function(t){e(function(e){return{type:"GETEDITCLIENT",payload:e}}(t))},updateEditClient:function(t){e(function(e){return{type:"UPDATEEDITCLIENT",payload:e}}(t))}}})(je),Ie=a(600),we=Ie.a.Column,ke=(Ie.a.ColumnGroup,x.a.Option),Ae=(y.a.TextArea,{width:"100%",padding:"5px"}),Re={textAlign:"center",paddingTop:"10px"},Ne=function(e){v.a.success(e)},Le=function(e){v.a.error(e)},Fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).OnClientChange=function(e){a.setState({ct_name:e}),a.props.getShiftDetails(e)},a.loadClients=function(e){return e.map(function(e){return l.a.createElement(ke,{key:e,value:e},e)})},a.delete=function(e){console.log(e),D.a.post("/api/deleteShift/",e).then(function(e){console.log(e),1==e.data.success?Ne(e.data.msg):(console.log(e),Le(e.data.msg))}).catch(function(e){console.log(e),Le("Error while connecting to server")})},a.state={ct_name:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.activegetClients()}},{key:"componentWillReceiveProps",value:function(e){e.shiftDetails!=this.props.shiftDetails&&this.props.getShiftDetails(this.state.ct_name)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(p.a,{style:{padding:"5px"}},l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5}),l.a.createElement(f.a,{xs:24,sm:24,md:16,lg:14},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12,style:Re},l.a.createElement("label",null," ",l.a.createElement("b",null,"Select Client")," ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(x.a,{onChange:this.OnClientChange,value:this.state.ct_name,required:!0,style:Ae},this.loadClients(this.props.clients)))),l.a.createElement(p.a,null,l.a.createElement(Ie.a,{pagination:{pageSizeOptions:["5","10"],showSizeChanger:!0},dataSource:this.props.shiftDetails,scroll:{x:800}},l.a.createElement(we,{title:"START TIME",dataIndex:"start_time",key:"START_TIME"}),l.a.createElement(we,{title:"END TIME",dataIndex:"end_time",key:"END_TIME"}),l.a.createElement(we,{title:"SHIFT TYPE",dataIndex:"shift_type",key:"SHIFT_TYPE"}),l.a.createElement(we,{title:"ACTION",dataIndex:"ACTION",key:"ACTION",render:function(t,a){return l.a.createElement(b.a,{onClick:function(){e.delete(a)}},"Delete")}})))))),l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5})))}}]),t}(l.a.Component),Je=Object(O.b)(function(e){return{clients:e.ClientDetails.activeClients,shiftDetails:e.ClientDetails.shiftDetails}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},getShiftDetails:function(t){e(function(e){return{type:"GETSHIFTDETAILS",payload:e}}(t))}}})(Fe),Pe=a(593),Me=(y.a.TextArea,x.a.Option),Ue={width:"100%",padding:"5px"},Be={textAlign:"left",paddingTop:"10px"},Ye={width:"90%"},He=function(e){v.a.success(e)},Ge=function(e){v.a.error(e)},Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).componentWillReceiveProps=function(e){console.log(e.clients),0==e.clients.length&&a.props.activegetClients(),""!=e.addShiftMsg&&(1==e.addShiftFlag&&(He(e.addShiftMsg),a.reset()),0==e.addShiftFlag&&Ge(e.addShiftMsg))},a.reset=function(){a.setState({ct_name:"",start_time:null,end_time:null,shift_type:"",end_time_string:"",start_time_string:""})},a.OnchangeStartTime=function(e,t){console.log(t),a.setState({start_time:e,start_time_string:t})},a.OnchangeEndTime=function(e,t){a.setState({end_time:e,end_time_string:t})},a.OnClientChange=function(e){a.setState({ct_name:e})},a.OnShiftChange=function(e){a.setState({shift_type:e})},a.OnSubmit=function(){if(a.state.ct_name&&a.state.start_time_string&&a.state.end_time_string&&a.state.shift_type){var e=a.state,t={ct_name:e.ct_name,start_time_string:e.start_time_string,end_time_string:e.end_time_string,shift_type:e.shift_type};a.props.addShift(t)}else Ge("Please fill all the fields")},a.loadClients=function(e){return e.map(function(e){return l.a.createElement(Me,{key:e,value:e},e)})},a.state={ct_name:"",start_time:null,start_time_string:"",end_time:null,end_time_string:"",shift_type:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.activegetClients()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5}),l.a.createElement(f.a,{xs:24,sm:24,md:16,lg:14},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:Be},l.a.createElement("label",null," ",l.a.createElement("b",null," Select Client ")," ")),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(x.a,{onChange:this.OnClientChange,value:this.state.ct_name,required:!0,style:Ue},this.loadClients(this.props.clients)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:Be},l.a.createElement("label",null," ",l.a.createElement("b",null," Duration ")," ")),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(Pe.a,{value:this.state.start_time,onChange:this.OnchangeStartTime,format:"HH:mm",style:Ue,required:!0})),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(Pe.a,{value:this.state.end_time,onChange:this.OnchangeEndTime,format:"HH:mm",style:Ue,required:!0}))))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:Be},l.a.createElement("label",null," ",l.a.createElement("b",null," Shift Type ")," ")),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(x.a,{onChange:this.OnShiftChange,value:this.state.shift_type,style:Ue},l.a.createElement(Me,{value:"Early"},"Early"),l.a.createElement(Me,{value:"Late"},"Late"),l.a.createElement(Me,{value:"Long Day"},"Long Day"),l.a.createElement(Me,{value:"Night"},"Night"),l.a.createElement(Me,{value:"Saturday"},"Saturday"),l.a.createElement(Me,{value:"Sunday"},"Sunday"),l.a.createElement(Me,{value:"Sleep Night"},"Sleep Night")))),l.a.createElement(p.a,{style:{paddingTop:"10px"}},l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"primary",onClick:this.OnSubmit,style:Ye},"Add ")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"danger ",style:Ye,onClick:this.reset},"Reset")))),l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5})))}}]),t}(l.a.Component),qe=Object(O.b)(function(e){return{clients:e.ClientDetails.activeClients,addShiftFlag:e.ClientDetails.addShiftFlag,addShiftMsg:e.ClientDetails.addShiftMsg}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},addShift:function(t){e(function(e){return{type:"ADDSHIFT",payload:e}}(t))}}})(Ve),ze=a(604),We=ze.a.Panel,Ke=function(e){return l.a.createElement(re.a,{orientation:"left",style:{margin:0}},l.a.createElement("span",null,e.text))},Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"!==a.props.role)return!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(ze.a,{accordion:!0},l.a.createElement(We,{header:l.a.createElement(Ke,{text:"ADD CLIENT"}),key:"1"},l.a.createElement(Ee,null)),l.a.createElement(We,{header:l.a.createElement(Ke,{text:"DELETE CLIENT"}),key:"2"},l.a.createElement(Oe,null)),l.a.createElement(We,{header:l.a.createElement(Ke,{text:"EDIT CLIENT"}),key:"3"},l.a.createElement(Te,null)),l.a.createElement(We,{header:l.a.createElement(Ke,{text:"ADD SHIFT"}),key:"4"},l.a.createElement(qe,null)),l.a.createElement(We,{header:l.a.createElement(Ke,{text:"DELETE SHIFT"}),key:"5"},l.a.createElement(Je,null))))}}]),t}(l.a.Component),$e=Object(O.b)(function(e){return{role:e.Reducer.user.Role,adminDashboardJobs:e.Reducer.adminDashboardJobs,UserId:e.Reducer.user.UserId}},null)(Ze),Qe=a(598),Xe=a(601);Xe.a.MonthPicker;var et=Xe.a.RangePicker,tt=Ie.a.Column,at=(Ie.a.ColumnGroup,function(e){v.a.error(e)}),nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).onSelectChange=function(e,t){0!=t.length?a.setState({selectedRowKeys:e,selectedRows:t,rowsSelected:!1}):a.setState({selectedRows:t,selectedRowKeys:e,rowsSelected:!0})},a.OnChangeDate=function(e,t){console.log(t),a.setState({from_date:t[0],to_date:t[1]})},a.loadJobs=function(){var e={};e.from_date=a.state.from_date,e.to_date=a.state.to_date,a.props.getJobDetails(e)},a.OnDeleteJobs=function(){var e=[];if(a.state.selectedRows.length>0){e=a.state.selectedRows.map(function(e){return e.JobID}),a.props.deleteJobs(e);var t={};t.from_date=a.state.from_date,t.to_date=a.state.to_date,a.loadJobs(t),a.setState({rowsSelected:!0})}else at("Please select jobs to delete")},a.isvalidated=function(){if("staff"!==a.props.role)return!0},a.state={rowsSelected:!0,selectedRows:[],selectedRowKeys:[],from_date:null,to_date:null,loadingFlag:!1},a.OnChangeDate=a.OnChangeDate.bind(Object(E.a)(Object(E.a)(a))),a.loadJobs=a.loadJobs.bind(Object(E.a)(Object(E.a)(a))),a.onSelectChange=a.onSelectChange.bind(Object(E.a)(Object(E.a)(a))),a.isvalidated=a.isvalidated.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new Date,t=new Date;t.setDate(t.getDate()+30);var a={};a.from_date=e,a.to_date=t,this.setState({from_date:e,to_date:t}),this.props.getJobDetails(a)}},{key:"render",value:function(){var e={onChange:this.onSelectChange},t=(new Date).toJSON().slice(0,10),a=new Date;return a.setDate(a.getDate()+30),l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(et,{onChange:this.OnChangeDate,defaultValue:[se()(t,"YYYY/MM/DD"),se()(a,"YYYY/MM/DD")]}),l.a.createElement(b.a,{type:"primary",style:{margin:"5px"},onClick:this.loadJobs},"Load"),l.a.createElement(Qe.a,{style:{margin:"5px"},okType:"primary",title:"Are you sure delete jobs ?",onConfirm:this.OnDeleteJobs,disabled:this.state.disabled,onCancel:null,okText:"Yes",cancelText:"No"},l.a.createElement(b.a,null,"Delete"))))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:1,sm:1,md:1,lg:1}),l.a.createElement(f.a,{xs:22,sm:22,md:22,lg:22},l.a.createElement(Ie.a,{rowSelection:e,pagination:{pageSizeOptions:["5","10","15","20"],showSizeChanger:!0},dataSource:this.props.jobDetails,columnWidth:"500",scroll:{x:1200}},l.a.createElement(tt,{title:"JobID",dataIndex:"JobID",key:"JobID",fixed:"left"}),l.a.createElement(tt,{title:"Client",dataIndex:"Client",key:"Client"}),l.a.createElement(tt,{title:"Date",dataIndex:"Date",key:"Date"}),l.a.createElement(tt,{title:"Staff",dataIndex:"Staff",key:"Staff"}),l.a.createElement(tt,{title:"Start Time",dataIndex:"start_time",key:"start_time"}),l.a.createElement(tt,{title:"End Time",dataIndex:"end_time",key:"to_time"}),l.a.createElement(tt,{title:"Requested",dataIndex:"Requested",key:"Requested"}),l.a.createElement(tt,{title:"Filled",dataIndex:"Filled",key:"Filled"}))),l.a.createElement(f.a,{xs:1,sm:1,md:1,lg:1})))}}]),t}(l.a.Component),lt=Object(O.b)(function(e){return{role:e.Reducer.user.Role,jobDetails:e.Reducer.jobDetails}},function(e){return{getJobDetails:function(t){e(function(e){return{type:"GETJOBDETAILS",payload:e}}(t))},deleteJobs:function(t){e(function(e){return{type:"DELETEJOBS",payload:e}}(t))}}})(nt),st=a(606),rt=x.a.Option,it={textAlign:"center",paddingTop:"10px"},ct={width:"100%",padding:"1px",margin:"1px"},ot=function(e){v.a.error(e)},dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).jobidOnChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.loadJob=function(){isNaN(a.state.jobid)||""==a.state.jobid?ot("Please enter the numeric jobid"):(a.props.getJob(a.state.jobid),a.props.activegetClients())},a.Onsubmit=function(){var e=!0;if(null!=a.state.staff&&null!=a.state.client&&null!=a.state.date&&null!=a.state.from_time&&null!=a.state.to_time&&""!=a.state.count||(ot("Please Fill all the fields"),e=!1),1==e){var t={jobid:a.state.jobid,staff:a.state.staff,client:a.state.client,date:a.state.date,from_time_string:a.state.from_time_string,to_time_string:a.state.to_time_string,count:a.state.count};a.props.updatejobdetails(t),console.log(t)}},a.loadClients=function(e){return e.map(function(e){return l.a.createElement(rt,{key:e,value:e},e)})},a.disabledDate=function(e){return e<=se()().endOf("Yesterday")},a.reset=function(){a.setState({jobid:null,staff:null,client:null,date:null,count:null,from_time:null,to_time:null,disabled:!0,disabledJobId:!1,save_enable:!0,edit_enable:!1})},a.OnchangeDate=function(e,t){a.setState({date:se()(t)})},a.OnchangeCount=function(e){a.setState({count:e})},a.handleChangeStaff=function(e){a.setState({staff:e})},a.handleChangeClient=function(e){a.setState({client:e})},a.state={disabled:!0,disabledJobId:!1,jobid:"",staff:"Doctor",shift_id:null,client:void 0,date:se()("2001-01-01"),count:10,save_enable:!0,edit_enable:!1},a.reset=a.reset.bind(Object(E.a)(Object(E.a)(a))),a.jobidOnChange=a.jobidOnChange.bind(Object(E.a)(Object(E.a)(a))),a.loadClients=a.loadClients.bind(Object(E.a)(Object(E.a)(a))),a.OnchangeDate=a.OnchangeDate.bind(Object(E.a)(Object(E.a)(a))),a.Onsubmit=a.Onsubmit.bind(Object(E.a)(Object(E.a)(a))),a.reset=a.reset.bind(Object(E.a)(Object(E.a)(a))),a.handleChangeStaff=a.handleChangeStaff.bind(Object(E.a)(Object(E.a)(a))),a.handleChangeClient=a.handleChangeClient.bind(Object(E.a)(Object(E.a)(a))),a.OnchangeCount=a.OnchangeCount.bind(Object(E.a)(Object(E.a)(a))),a.disabledDate=a.disabledDate.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t;1==e.editJobFlag&&""!=e.editJobMsg&&(t=e.editJobMsg,v.a.success(t),this.reset(),this.props.resetEditJob()),0==e.editJobFlag&&""!=e.editJobMsg&&(ot(e.editJobMsg),this.props.resetEditJob()),e.job!=this.props.job&&null!=e.job&&(console.log(e.job),this.setState({staff:e.job.Staff,date:se()(e.job.Date),disabled:!1,disabledJobId:!0,save_enable:!1,client:e.job.Client,count:e.job.Requested,shift_id:e.job.shift_id,edit_enable:!0}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:1,sm:1,md:2,lg:3}),l.a.createElement(f.a,{xs:22,sm:22,md:20,lg:18},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",{style:ct}," Enter Job ID ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(y.a,{disabled:this.state.disabledJobId,style:ct,name:"jobid",value:this.state.jobid,onChange:this.jobidOnChange})),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",null," Client ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(x.a,{disabled:this.state.disabled,value:this.state.client,onChange:this.handleChangeClient,required:!0,style:ct},this.loadClients(this.props.activeClients))),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",null," Date ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(Xe.a,{value:this.state.date,disabled:this.state.disabled,defaultValue:this.state.date,disabledDate:this.disabledDate,onChange:this.OnchangeDate,required:!0,size:this.size,style:ct})),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",null," Staff ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(x.a,{disabled:this.state.disabled,value:this.state.staff,onChange:this.handleChangeStaff,style:ct,required:!0},l.a.createElement(rt,{value:"Doctor"},"Doctor"),l.a.createElement(rt,{value:"Nurse"},"Nurse"),l.a.createElement(rt,{value:"Health Care assistant (HCA)"},"Health Care assistant (HCA)"),l.a.createElement(rt,{value:"Domestic worker"},"Domestic worker"),l.a.createElement(rt,{value:"Domestic assistant"},"Domestic assistant"),l.a.createElement(rt,{value:"Domiciliary carer"},"Domiciliary carer"))),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",null," Shift ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(x.a,{disabled:this.state.disabled,value:this.state.shift_id,onChange:this.handleChangeClient,style:ct})),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:6,sm:8,md:8,lg:8,style:it},l.a.createElement("lable",null," Requested ")),l.a.createElement(f.a,{xs:18,sm:8,md:8,lg:8},l.a.createElement(st.a,Object(u.a)({value:this.state.count,disabled:this.state.disabled,onChange:this.OnchangeCount,min:1,max:100,defaultValue:this.state.count,style:ct},"disabled",this.state.disabled))),l.a.createElement(f.a,{xs:0,sm:8,md:8,lg:8})),l.a.createElement(p.a,null,l.a.createElement(f.a,{style:it},l.a.createElement(b.a,{disabled:this.state.edit_enable,onClick:this.loadJob,type:"primary"},"Edit Job"),l.a.createElement(b.a,{disabled:this.state.save_enable,onClick:this.Onsubmit},"Save"),l.a.createElement(b.a,{disabled:this.state.save_enable,onClick:this.reset},"Cancel")))),l.a.createElement(f.a,{xs:1,sm:1,md:2,lg:3})))}}]),t}(l.a.Component),mt=(Object(O.b)(function(e){return{role:e.Reducer.user.Role,activeClients:e.ClientDetails.activeClients,job:e.Reducer.job,editJobMsg:e.Reducer.editJobMsg,editJobFlag:e.Reducer.editJobFlag}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},getJob:function(t){e(function(e){return{type:"GETJOB",payload:e}}(t))},updatejobdetails:function(t){e(function(e){return{type:"UPDATEJOBDETAILS",payload:e}}(t))},resetEditJob:function(){e({type:"RESET_EDIT_JOB"})}}})(dt),{textAlign:"center",paddingTop:"10px"}),ut=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(re.a,{orientation:"left"},"Delete Job"),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:1,sm:1,md:2,lg:3}),l.a.createElement(f.a,{xs:22,sm:22,md:20,lg:18},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:8,lg:8,style:mt},l.a.createElement("lable",null," Enter Job ID ")),l.a.createElement(f.a,{xs:8,sm:8,md:8,lg:8},l.a.createElement(y.a,null)),l.a.createElement(f.a,{xs:8,sm:8,md:8,lg:8},l.a.createElement(b.a,{type:"primary"},"Delete Job")))),l.a.createElement(f.a,{xs:1,sm:1,md:2,lg:3})),l.a.createElement(re.a,null))}}]),t}(l.a.Component),Et=(Object(O.b)(function(e){return{role:e.user.Role,clients:e.clients}},function(e){return{}})(ut),a(180)),pt=(Et.a.Button,Et.a.Group,x.a.Option),ft={width:"100%",padding:"5px 5px"},bt={textAlign:"center",paddingTop:"10px"},ht={width:"90%"},gt=function(e){v.a.success(e)},yt=function(e){v.a.error(e)},Ot=function(e){v.a.error(e)},Ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).componentWillReceiveProps=function(e){1==e.addJobflag&&e.addJobMsg.length>0&&(a.reset(),a.props.setaddjob(),gt(e.addJobMsg)),0==e.addJobflag&&e.addJobflag.length>0&&yt(e.addJobMsg)},a.disabledDate=function(e){return e<=se()().endOf("Yesterday")},a.OnchangeDate=function(e,t){a.setState({date:se.a.utc(e)})},a.OnchangeCount=function(e){a.setState({count:e})},a.handleChangeStaff=function(e){a.setState({staff:e})},a.handleChangeClient=function(e){a.props.getShiftDetails(e),a.setState({client:e,shift_id:null})},a.OnShiftChange=function(e){a.setState({shift_id:e})},a.reset=function(){a.setState({staff:"",client:"",date:null,count:null,shift_id:null})},a.Onsubmit=function(){var e=!0;if(null!=a.state.staff&&null!=a.state.client&&null!=a.state.date&&null!=a.state.shift_id&&null!=a.state.count&&0!=a.state.count||(Ot("Please Fill all the fields"),e=!1),1==e){var t={staff:a.state.staff,client:a.state.client,date:a.state.date.format("YYYY-MM-DDTHH:mm:ssZ"),shift_id:a.state.shift_id,count:a.state.count};a.props.addJob(t)}},a.loadClients=function(e){return e.map(function(e){return l.a.createElement(pt,{key:e,value:e},e)})},a.loadShifts=function(e){return e.map(function(e){return l.a.createElement(pt,{style:{width:"100%"},value:e.shift_id},e.shift_type+" <> "+e.start_time.slice(0,5)+"-"+e.end_time.slice(0,5))})},a.state={size:"default",staff:"",client:"",date:null,count:null,shift_id:null},a.loadClients=a.loadClients.bind(Object(E.a)(Object(E.a)(a))),a.OnchangeDate=a.OnchangeDate.bind(Object(E.a)(Object(E.a)(a))),a.Onsubmit=a.Onsubmit.bind(Object(E.a)(Object(E.a)(a))),a.reset=a.reset.bind(Object(E.a)(Object(E.a)(a))),a.handleChangeStaff=a.handleChangeStaff.bind(Object(E.a)(Object(E.a)(a))),a.handleChangeClient=a.handleChangeClient.bind(Object(E.a)(Object(E.a)(a))),a.OnchangeCount=a.OnchangeCount.bind(Object(E.a)(Object(E.a)(a))),a.disabledDate=a.disabledDate.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.activegetClients()}},{key:"render",value:function(){new Date;return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,null)),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5}),l.a.createElement(f.a,{xs:20,sm:20,md:16,lg:14},l.a.createElement("form",{onSubmit:this.Onsubmit},l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:bt},l.a.createElement("label",null," ",l.a.createElement("b",null,"Doctor/Nurse "))),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(x.a,{value:this.state.staff,onChange:this.handleChangeStaff,style:ft,required:!0},l.a.createElement(pt,{value:"Doctor"},"Doctor"),l.a.createElement(pt,{value:"Nurse"},"Nurse"),l.a.createElement(pt,{value:"Health Care assistant (HCA)"},"Health Care assistant (HCA)"),l.a.createElement(pt,{value:"Domestic worker"},"Domestic worker"),l.a.createElement(pt,{value:"Domestic assistant"},"Domestic assistant"),l.a.createElement(pt,{value:"Domiciliary carer"},"Domiciliary carer")))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:bt},l.a.createElement("label",null,l.a.createElement("b",null,"Select Client"))),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(x.a,{value:this.state.client,onChange:this.handleChangeClient,required:!0,style:ft},this.loadClients(this.props.activeClients)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:bt},l.a.createElement("label",{style:bt}," ",l.a.createElement("b",null,"Date "))),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(Xe.a,{value:this.state.date,disabledDate:this.disabledDate,onChange:this.OnchangeDate,required:!0,size:this.size,style:ft}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:bt},l.a.createElement("label",null," ",l.a.createElement("b",null,"No. of positions"))),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(st.a,{value:this.state.count,onChange:this.OnchangeCount,defaultValue:null,style:{width:"97%"},required:!0}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:8,sm:8,md:12,lg:12,style:bt},l.a.createElement("label",null,l.a.createElement("b",null,"Select Shift"))),l.a.createElement(f.a,{xs:16,sm:16,md:12,lg:12},l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(x.a,{value:this.state.shift_id,style:ft,onChange:this.OnShiftChange},this.loadShifts(this.props.shiftDetails)))))),l.a.createElement(p.a,{style:{paddingTop:"10px"}},l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"primary",onClick:this.Onsubmit,style:ht},"Broadcast")),l.a.createElement(f.a,{xs:12,sm:12,md:12,lg:12},l.a.createElement(b.a,{type:"danger",onClick:this.reset,style:ht},"Cancel")))),l.a.createElement(f.a,null)))),l.a.createElement(f.a,{xs:2,sm:2,md:4,lg:5})))}}]),t}(l.a.Component),xt=Object(O.b)(function(e){return console.log(e.Reducer.user.Role),{role:e.Reducer.user.Role,activeClients:e.ClientDetails.activeClients,shiftDetails:e.ClientDetails.shiftDetails,addJobflag:e.Reducer.addJobflag,addJobMsg:e.Reducer.addJobMsg}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})},getShiftDetails:function(t){e(function(e){return{type:"GETSHIFTDETAILS",payload:e}}(t))},addJob:function(t){e(function(e){return{type:"ADDJOB",payload:e}}(t))},setaddjob:function(){e({type:"SET_ADD_JOB"})}}})(Ct),_t=a(449),Dt=a(602),vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).OnSubmit=function(){var e=new FormData;0===a.state.jobsDoc.length?v.a.error("Select file before upload"):(a.setState({fileUploadStatus:!0}),e.append("jobs",a.state.jobsDoc.pop()),D.a.post("/api/Bulkjobuploads/",e).then(function(e){v.a.success(e.data.msg),a.setState({uploading:!0,fileUploadStatus:!1})}))},a.state={jobsDoc:[],uploading:!1,fileUploadStatus:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=(t.uploading,t.jobsDoc),n=(t.coverList,{onRemove:function(t){e.setState(function(e){var a=e.jobsDoc.indexOf(t),n=e.jobsDoc.slice();return n.splice(a,1),{jobsDoc:n}})},beforeUpload:function(t){return e.setState(function(e){return{jobsDoc:[t]}}),!1},jobsDoc:a});return l.a.createElement("div",null,this.state.fileUploadStatus?l.a.createElement(_t.a,{size:"large"}):null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(Dt.a,n,l.a.createElement(b.a,null,l.a.createElement(q.a,{type:"upload"})," Click to Select File"))),l.a.createElement(f.a,null,l.a.createElement(b.a,{onClick:this.OnSubmit},"Submit"))))}}]),t}(l.a.Component),St=Object(O.b)()(vt),jt=ze.a.Panel,Tt=function(e){return l.a.createElement(re.a,{orientation:"left",style:{margin:0,backGroundColor:"#5f5f5f"}},l.a.createElement("span",null,e.text))},It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"!==a.props.role)return!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(p.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement(ze.a,{accordion:!0},l.a.createElement(jt,{header:l.a.createElement(Tt,{text:"ADD JOB"}),key:"1"},l.a.createElement(xt,null)),l.a.createElement(jt,{header:l.a.createElement(Tt,{text:"SCHEDULED JOBS"}),key:"2"},l.a.createElement(lt,null)),l.a.createElement(jt,{header:l.a.createElement(Tt,{text:"BULK JOB UPLOAD"}),key:"3"},l.a.createElement(St,null)))),l.a.createElement(f.a,null)))}}]),t}(l.a.Component),wt=Object(O.b)(function(e){return{role:e.Reducer.user.Role,UserId:e.Reducer.user.UserId}},null)(It);var kt=function(){return l.a.createElement("p",null," You are not Authorized to Access this page ")};l.a.Component;var At=Ie.a.Column,Rt=(Ie.a.ColumnGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).OnchangeDate=function(e,t){a.setState({date:e,date_string:t}),a.props.getAdminDashboardDetails(t)},a.loadClick=function(){a.props.getAdminDashboardDetails(a.state.date_string)},a.isvalidated=function(){if("staff"!==a.props.role)return!0},a.state={date:se()(),date_string:se()().format().slice(0,10)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getAdminDashboardDetails(this.state.date_string)}},{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(re.a,{style:{backgroundColor:"#5f5f5f"}},l.a.createElement("span",{style:{color:"white"}},"SCHEDULES")),l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement("lable",null," ",l.a.createElement("b",null,"Select Date ")," "),l.a.createElement(Xe.a,{value:this.state.date,onChange:this.OnchangeDate})),l.a.createElement(f.a,null)),l.a.createElement(Ie.a,{pagination:{pageSizeOptions:["5","10","15","20","50","100"],showSizeChanger:!0},size:"medium",dataSource:this.props.adminDashboardJobs,scroll:{x:1e3}},l.a.createElement(At,{title:"JOB ID",dataIndex:"jobid",key:"jobid"}),l.a.createElement(At,{title:"CLINET",dataIndex:"client",key:"client"}),l.a.createElement(At,{title:"STAFF NAME",dataIndex:"Fname",key:"Fname"}),l.a.createElement(At,{title:"STAFF TYPE",dataIndex:"staff_type",key:"staff_type"}),l.a.createElement(At,{title:"DATE",dataIndex:"date",key:"date"}),l.a.createElement(At,{title:"START_TIME",dataIndex:"start_time",key:"from_time"}),l.a.createElement(At,{title:"END_TIME",dataIndex:"end_time",key:"to_time"}),l.a.createElement(At,{title:"SHIFT_TYPE",dataIndex:"shift_type",key:"shift_type"})))}}]),t}(l.a.Component)),Nt=Object(O.b)(function(e){return{role:e.Reducer.user.Role,adminDashboardJobs:e.Reducer.adminDashboardJobs,UserId:e.Reducer.user.UserId}},function(e){return{getAdminDashboardDetails:function(t){e(function(e){return{type:"GETADMINDASHBOARDDETAILS",payload:e}}(t))}}})(Rt);function Lt(e){return{type:"UPDATEINVOICERATES",payload:e}}var Ft=a(84);var Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.value;(!Number.isNaN(t)&&/^([0-9]+[\.]?[0-9]?[0-9]?|[0-9]+)$/g.test(t)||""===t||"-"===t)&&a.props.onChange(t)},a.onBlur=function(){var e=a.props,t=e.value,n=e.onBlur,l=e.onChange;"."!==t.charAt(t.length-1)&&"-"!==t||l(t.slice(0,-1)),n&&n()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.value,t=e?l.a.createElement("span",{className:"numeric-input-title"},"-"!==e?function(e){for(var t=(e+="").split("."),a="-"===t[0].charAt(0)?"-":"",n=a?t[0].slice(1):t[0],l="";n.length>3;)l=",".concat(n.slice(-3)).concat(l),n=n.slice(0,n.length-3);return n&&(l=n+l),"".concat(a).concat(l).concat(t[1]?".".concat(t[1]):"")}(e):"-"):"Input a number";return l.a.createElement(Ft.a,{trigger:["focus"],title:t,placement:"topLeft",overlayClassName:"numeric-input"},l.a.createElement(y.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,placeholder:"Input a number",maxLength:25})))}}]),t}(l.a.Component),Pt=x.a.Option,Mt=function(e){v.a.error(e)},Ut=[{title:"Staff",dataIndex:"staff_type",key:"staff_type"},{title:"Long Day",dataIndex:"Long_day",key:"Long_day"},{title:"Early",dataIndex:"Early",key:"Early"},{title:"Late",dataIndex:"Late",key:"Late"},{title:"Night",dataIndex:"Night",key:"Night"},{title:"Saturday",dataIndex:"Saturday",key:"Saturday"},{title:"Sunday",dataIndex:"Sunday",key:"Sunday"},{title:"Sleep Night",dataIndex:"Sleep_night",key:"Sleep_night"},{title:"Bank Holiday",dataIndex:"Bank_holiday",key:"Bank_holiday"}],Bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChangeStaff=function(e){a.setState({staff_type:e})},a.OnShiftChange=function(e){a.setState({shift_type:e})},a.onChange=function(e){a.setState({value:e})},a.update=function(){var e={};""!=a.state.staff_type?""!=a.state.shift_type?""!=a.state.value?(e={staff_type:a.state.staff_type,shift_type:a.state.shift_type,value:a.state.value,tablename:"ctinvoice"},a.props.updateInvoiceRates(e),a.props.getClientInvoiceRates()):Mt("Please enter Rate"):Mt("Please select Shift Type"):Mt("Please select Staff Type")},a.state={shift_type:"",staff_type:"",value:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getClientInvoiceRates()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ie.a,{columns:Ut,dataSource:this.props.clientInvoiceRates,scroll:{x:1e3}}),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10},l.a.createElement(x.a,{onChange:this.OnShiftChange,value:this.state.shift_type,style:{width:"100%"}},l.a.createElement(Pt,{value:"Early"},"Early"),l.a.createElement(Pt,{value:"Late"},"Late"),l.a.createElement(Pt,{value:"Long Day"},"Long Day"),l.a.createElement(Pt,{value:"Night"},"Night"),l.a.createElement(Pt,{value:"Saturday"},"Saturday"),l.a.createElement(Pt,{value:"Sunday"},"Sunday"),l.a.createElement(Pt,{value:"Sleep Night"},"Sleep Night"))),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10},l.a.createElement(x.a,{value:this.state.staff_type,onChange:this.handleChangeStaff,style:{width:"100%"}},l.a.createElement(Pt,{value:"Doctor"},"Doctor"),l.a.createElement(Pt,{value:"Nurse"},"Nurse"),l.a.createElement(Pt,{value:"Health Care assistant (HCA)"},"Health Care assistant (HCA)"),l.a.createElement(Pt,{value:"Domestic worker"},"Domestic worker"),l.a.createElement(Pt,{value:"Domestic assistant"},"Domestic assistant"),l.a.createElement(Pt,{value:"Domiciliary carer"},"Domiciliary carer"))),l.a.createElement(Jt,{style:{width:120},value:this.state.value,onChange:this.onChange}),l.a.createElement(b.a,{onClick:this.update},"Update")))}}]),t}(l.a.Component),Yt=Object(O.b)(function(e){return{clientInvoiceRates:e.Reducer.clientInvoiceRates}},function(e){return{getClientInvoiceRates:function(){e({type:"GETCLIENTINOVICERATES"})},updateInvoiceRates:function(t){e(Lt(t))}}})(Bt),Ht=x.a.Option,Gt=function(e){v.a.error(e)},Vt=[{title:"Staff",dataIndex:"staff_type",key:"staff_type"},{title:"Long Day",dataIndex:"Long_day",key:"Long_day"},{title:"Early",dataIndex:"Early",key:"Early"},{title:"Late",dataIndex:"Late",key:"Late"},{title:"Night",dataIndex:"Night",key:"Night"},{title:"Saturday",dataIndex:"Saturday",key:"Saturday"},{title:"Sunday",dataIndex:"Sunday",key:"Sunday"},{title:"Sleep Night",dataIndex:"Sleep_night",key:"Sleep_night"},{title:"Bank Holiday",dataIndex:"Bank_holiday",key:"Bank_holiday"}],qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChangeStaff=function(e){a.setState({staff_type:e})},a.OnShiftChange=function(e){a.setState({shift_type:e})},a.onChange=function(e){a.setState({value:e})},a.update=function(){var e={};""!=a.state.staff_type?""!=a.state.shift_type?""!=a.state.value?(e={staff_type:a.state.staff_type,shift_type:a.state.shift_type,value:a.state.value,tablename:"staffinvoice"},a.props.updateInvoiceRates(e),a.props.getStaffInvoiceRates()):Gt("Please enter Rate"):Gt("Please select Shift Type"):Gt("Please select Staff Type")},a.state={shift_type:"",staff_type:"",value:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getStaffInvoiceRates()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ie.a,{columns:Vt,dataSource:this.props.staffInvoiceRates,scroll:{x:1e3}}),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10},l.a.createElement(x.a,{onChange:this.OnShiftChange,value:this.state.shift_type,style:{width:"100%"}},l.a.createElement(Ht,{value:"Early"},"Early"),l.a.createElement(Ht,{value:"Late"},"Late"),l.a.createElement(Ht,{value:"Long Day"},"Long Day"),l.a.createElement(Ht,{value:"Night"},"Night"),l.a.createElement(Ht,{value:"Saturday"},"Saturday"),l.a.createElement(Ht,{value:"Sunday"},"Sunday"),l.a.createElement(Ht,{value:"Sleep Night"},"Sleep Night"))),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10},l.a.createElement(x.a,{value:this.state.staff_type,onChange:this.handleChangeStaff,style:{width:"100%"}},l.a.createElement(Ht,{value:"Doctor"},"Doctor"),l.a.createElement(Ht,{value:"Nurse"},"Nurse"),l.a.createElement(Ht,{value:"Health Care assistant (HCA)"},"Health Care assistant (HCA)"),l.a.createElement(Ht,{value:"Domestic worker"},"Domestic worker"),l.a.createElement(Ht,{value:"Domestic assistant"},"Domestic assistant"),l.a.createElement(Ht,{value:"Domiciliary carer"},"Domiciliary carer"))),l.a.createElement(Jt,{style:{width:120},value:this.state.value,onChange:this.onChange}),l.a.createElement(b.a,{onClick:this.update},"Update")))}}]),t}(l.a.Component),zt=Object(O.b)(function(e){return{staffInvoiceRates:e.Reducer.staffInvoiceRates}},function(e){return{getStaffInvoiceRates:function(){e({type:"GETSTAFFINOVICERATES"})},updateInvoiceRates:function(t){e(Lt(t))}}})(qt),Wt=a(190),Kt=a.n(Wt),Zt=(y.a.TextArea,Xe.a.MonthPicker,Xe.a.RangePicker),$t=(Ie.a.Column,Ie.a.ColumnGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.approve=function(e){var t={};t.jobid=e.jobid,t.userid=e.userid,t.flag=e.flag,a.props.approveTimeSheets(t),t={startDate:a.state.startDate,endDate:a.state.endDate},a.props.getFactTableData(t)},a.loadJobs=function(){var e={startDate:a.state.startDate,endDate:a.state.endDate};a.props.getFactTableData(e)},a.OnChangeDate=function(e,t){console.log(t),a.setState({startDate:t[0],endDate:t[1]})},a.state={visible:"true",startDate:null,endDate:null,ack_path:null,lightboxIsOpen:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new Date,t=new Date;e.setDate(e.getDate()-6),this.setState({startDate:e.toISOString().slice(0,10),endDate:t.toISOString().slice(0,10)});var a={startDate:e,endDate:t};this.props.getFactTableData(a)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=new Date,a=new Date;t.setDate(t.getDate()-6);var n=[{title:"Job ID",dataIndex:"jobid",width:150},{title:"Hospital",dataIndex:"client",width:150},{title:"Name",dataIndex:"Fname",width:150},{title:"Staff",dataIndex:"stafftype",width:150},{title:"Date",dataIndex:"date",width:250},{title:"Start Time",dataIndex:"start_time",width:250},{title:"End Time",dataIndex:"end_time",width:250},{title:"Remarks",dataIndex:"remarks",width:250},{title:"ACK",dataIndex:"ack_path",width:100,render:function(t,a){return l.a.createElement("span",null,l.a.createElement(b.a,{type:"primary",onClick:function(){e.setState({lightboxIsOpen:!0,ack_path:a.ack_path})}},"View ACK"))}},{title:"Action",dataIndex:"Action",key:"Action",fixed:"right",width:100,render:function(t,a){return l.a.createElement("span",null,l.a.createElement(b.a,{type:"Y"==a.flag?"danger":"primary",onClick:function(){e.approve(a)}},"Y"==a.flag?"Reject":"Approve"))}}];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:24,sm:24,md:20,lg:20,xl:20},l.a.createElement(Kt.a,{images:[{src:this.state.ack_path}],isOpen:this.state.lightboxIsOpen,onClose:function(){e.setState({lightboxIsOpen:!1})}}))),l.a.createElement(p.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}),l.a.createElement(f.a,{xs:24,sm:24,md:20,lg:20,xl:20},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(Zt,{defaultValue:[se()(t,"YYYY/MM/DD"),se()(a,"YYYY/MM/DD")],onChange:this.OnChangeDate})),l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(b.a,{type:"primary",onClick:this.loadJobs}," Load "))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:24,sm:24,md:24,lg:24,xl:24},l.a.createElement(Ie.a,{columns:n,size:"medium",scroll:{x:1800},dataSource:this.props.factTableData})))),l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}))),l.a.createElement(f.a,null)))}}]),t}(l.a.Component)),Qt=Object(O.b)(function(e){return{userid:e.Reducer.user.UserId,factTableData:e.StaffDashboard.factTableData}},function(e){return{getFactTableData:function(t){e(function(e){return{type:"GETFACTTABLEDATA",payload:e}}(t))},approveTimeSheets:function(t){e(function(e){return{type:"APPROVETIMESHREET",payload:e}}(t))}}})($t),Xt=(a(542),a(585),y.a.TextArea,x.a.Option),ea=function(e){v.a.error(e)},ta=(Xe.a.MonthPicker,Xe.a.RangePicker),aa=(Ie.a.Column,Ie.a.ColumnGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChangeClient=function(e){a.setState({client:e})},a.onDocumentLoadSuccess=function(e){var t=e.numPages;a.setState({numPages:t})},a.loadJobs=function(){if(""===a.state.client)ea("Select Client");else{var e={startDate:a.state.startDate,endDate:a.state.endDate,client:a.state.client};D.a.post("/api/getProcessFactTableDetails/",e).then(function(e){console.log(e.data),this.setState({factTableData:e.data.factTable})}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){ea("Issue with Database")})}},a.OnChangeDate=function(e,t){console.log(t),a.setState({startDate:t[0],endDate:t[1]})},a.processInvoice=function(){if(a.setState({pdfStatus:!0}),""===a.state.client&&0===a.state.factTableData.length)ea("Select Client");else{var e={startDate:a.state.startDate,endDate:a.state.endDate,client:a.state.client};D.a.post("/api/processInvoice/",e).then(function(e){console.log(e.data),this.setState({url:"http://localhost:8080/Payslips/"+e.data.url+".pdf",pdfStatus:!1})}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){ea("Issue with Database")})}},a.loadClients=function(e){return e.map(function(e){return l.a.createElement(Xt,{key:e,value:e},e)})},a.state={visible:"true",startDate:null,endDate:null,client:"",ack_path:null,lightboxIsOpen:!1,factTableData:[],numPages:null,pageNumber:1,url:"/acks/251question.jpg",pdfStatus:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new Date,t=new Date;e.setDate(e.getDate()-6),this.setState({startDate:e.toISOString().slice(0,10),endDate:t.toISOString().slice(0,10)}),this.props.activegetClients()}},{key:"render",value:function(){var e=this.state,t=(e.pageNumber,e.numPages,new Date),a=new Date;t.setDate(t.getDate()-6);var n=[{title:"Job ID",dataIndex:"jobid",width:150},{title:"Hospital",dataIndex:"client",width:150},{title:"Name",dataIndex:"Fname",width:150},{title:"Staff",dataIndex:"stafftype",width:150},{title:"Date",dataIndex:"date",width:250},{title:"Start Time",dataIndex:"start_time",width:250},{title:"End Time",dataIndex:"end_time",width:250},{title:"Remarks",dataIndex:"remarks",width:250},{title:"Action",dataIndex:"Action",key:"Action",fixed:"right",width:100,render:function(e,t){return l.a.createElement("span",null,"Y"==t.flag?"Approved":"Not Approved")}}];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:24,sm:24,md:24,lg:24,xl:24})),l.a.createElement(p.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}),l.a.createElement(f.a,{xs:24,sm:24,md:20,lg:20,xl:20},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement("b",null," Client ")),l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(x.a,{value:this.state.client,onChange:this.handleChangeClient,style:{width:"100%"}},this.loadClients(this.props.activeClients)))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement("b",null," Select Date Range ")),l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(ta,{defaultValue:[se()(t,"YYYY/MM/DD"),se()(a,"YYYY/MM/DD")],onChange:this.OnChangeDate})),l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(b.a,{type:"primary",onClick:this.loadJobs}," Load "))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:24,sm:24,md:24,lg:24,xl:24},l.a.createElement(Ie.a,{columns:n,size:"medium",scroll:{x:1800},dataSource:this.state.factTableData}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:12,sm:12,md:6,lg:6,xl:6},l.a.createElement(b.a,{type:"primary",onClick:this.processInvoice}," Process Invoice "),l.a.createElement("a",{href:this.state.url,target:"_blank",disabled:this.state.pdfStatus}," Download ")))),l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}))),l.a.createElement(f.a,null)))}}]),t}(l.a.Component)),na=Object(O.b)(function(e){return{userid:e.Reducer.user.UserId,factTableData:e.StaffDashboard.factTableData,role:e.Reducer.user.Role,activeClients:e.ClientDetails.activeClients}},function(e){return{activegetClients:function(){e({type:"ACTIVEGETCLIENTS"})}}})(aa),la=y.a.TextArea,sa={textAlign:"left",paddingTop:"10px"},ra=function(e){v.a.success(e)},ia=function(e){v.a.error(e)},ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).enable=function(){a.setState({user_details_disabled:!a.state.user_details_disabled})},a.OnChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.getDetails=function(){D.a.post("/api/getOfficeAddess/",{}).then(function(e){console.log(e),e.data.success?(console.log(e),this.setState({Street_No_Name:e.data.data.Street_No_Name,City_PinCode:e.data.data.City_PinCode,Tel_No:e.data.data.Tel_No,Email:e.data.data.Email,Website:e.data.data.Website,Company_Reg_No:e.data.data.Company_Reg_No,VAT_Reg_No:e.data.data.VAT_Reg_No,Payment_Terms:e.data.data.Payment_Terms,Terms:e.data.data.Terms})):ia(e.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){ia(" "),console.log(e)})},a.updateDetails=function(){if(a.state.Email)if(a.state.Street_No_Name)if(a.state.City_PinCode)if(a.state.Tel_No)if(a.state.Company_Reg_No)if(a.state.VAT_Reg_No)if(a.state.Payment_Terms)if(a.state.Terms)if(a.state.Website){var e=a.state,t={Street_No_Name:e.Street_No_Name,City_PinCode:e.City_PinCode,Tel_No:e.Tel_No,Email:e.Email,Website:e.Website,Company_Reg_No:e.Company_Reg_No,VAT_Reg_No:e.VAT_Reg_No,Payment_Terms:e.Payment_Terms,Terms:e.Terms};D.a.post("/api/updateOfficeAddess/",t).then(function(e){console.log(e),e.data.success?(ra(e.data.msg),this.enable()):ia(e.data.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){ia("Error at Serevr connection"),console.log(e)})}else ia("Enter Website");else ia("Enter Terms");else ia("Enter Payment Terms");else ia("Enter VAT No");else ia("Enter Company Reg No");else ia("Enter Tel No");else ia("Enter City and Pin");else ia("Enter street No and Name");else ia("Please enter Email ID")},a.state={user_details_disabled:!0,Street_No_Name:null,City_PinCode:null,Tel_No:null,Email:null,Website:null,Company_Reg_No:null,VAT_Reg_No:null,Payment_Terms:null,Terms:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:5,xl:5}),l.a.createElement(f.a,{xs:24,sm:20,md:16,lg:14,xl:14},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null,"Street No & Name")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Street_No_Name",onChange:this.OnChange,value:this.state.Street_No_Name,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null,"  ",l.a.createElement("b",null," City & PinCode")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"City_PinCode",onChange:this.OnChange,value:this.state.City_PinCode,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null,"Tel No ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Tel_No",onChange:this.OnChange,value:this.state.Tel_No,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," Email ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Email",onChange:this.OnChange,value:this.state.Email,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," Website ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Website",onChange:this.OnChange,value:this.state.Website,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," Company Reg. No. ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Company_Reg_No",onChange:this.OnChange,value:this.state.Company_Reg_No,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," VAT Reg No: ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"VAT_Reg_No",onChange:this.OnChange,value:this.state.VAT_Reg_No,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," Payment Terms ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(la,{name:"Payment_Terms",onChange:this.OnChange,value:this.state.Payment_Terms,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:sa},l.a.createElement("lable",null," ",l.a.createElement("b",null," Terms ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Terms",onChange:this.OnChange,value:this.state.Terms,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6}),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(b.a,{type:"primary",onClick:this.enable,style:{margin:"10px"}},this.state.user_details_disabled?"Edit":"Cancel"),l.a.createElement(b.a,{type:"primary",onClick:this.updateDetails,style:{margin:"10px"},disabled:this.state.user_details_disabled},"Update")),l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4}))))}}]),t}(l.a.Component),oa=Object(O.b)(function(e){return{userDetails:e.Reducer.user}},null)(ca),da=ze.a.Panel,ma=function(e){return l.a.createElement(re.a,{orientation:"left",style:{margin:0}},l.a.createElement("span",null,e.text))},ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"!==a.props.role)return!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(ze.a,{accordion:!0},l.a.createElement(da,{header:l.a.createElement(ma,{text:"Client Invoice Details"}),key:"1"},l.a.createElement(Yt,null)),l.a.createElement(da,{header:l.a.createElement(ma,{text:"Staff invoice Details"}),key:"2"},l.a.createElement(zt,null)),l.a.createElement(da,{header:l.a.createElement(ma,{text:"Approve Time Sheets"}),key:"3"},l.a.createElement(Qt,null)),l.a.createElement(da,{header:l.a.createElement(ma,{text:"Process Time Sheets"}),key:"4"},l.a.createElement(na,null)),l.a.createElement(da,{header:l.a.createElement(ma,{text:"Office Address Details"}),key:"5"},l.a.createElement(oa,null))))}}]),t}(l.a.Component),Ea=Object(O.b)(function(e){return{role:e.Reducer.user.Role,UserId:e.Reducer.user.UserId}},function(e){return{}})(ua);var pa=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{type:new Date(e.record.end_date)<new Date("2038-01-19")?"primary":"danger",onClick:function(){e.click(e.record)}},new Date(e.record.end_date)<new Date("2038-01-19")?"Enable":"Disable"))},fa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).onEnableDisable=function(e){a.props.enable_disable_user(e),a.props.getUserDetails()},a.isvalidated=function(){if("staff"!==a.props.role)return!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserDetails()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=[{title:"User ID",dataIndex:"Userid",key:"userid"},{title:"First Name",dataIndex:"Fname",key:"Fname"},{title:"Last Name",dataIndex:"Lname",key:"Lname"},{title:"TelePhone",dataIndex:"Tel",key:"Tel"},{title:"EmailID",dataIndex:"Emailid",key:"Emailid"},{title:"Staff Type",dataIndex:"stafftype",key:"stafftype"},{title:"Action",dataIndex:"Action",key:"Action",width:100,fixed:"right",render:function(t,a){return l.a.createElement("span",null,l.a.createElement(pa,{click:e.onEnableDisable,record:a}))}}];return l.a.createElement("div",{style:{margin:"5px"}},this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(Ie.a,{style:{margin:"0px"},columns:t,scroll:{x:800},pagination:{pageSizeOptions:["5","10"],showSizeChanger:!0},dataSource:this.props.userDetails}))}}]),t}(l.a.Component),ba=Object(O.b)(function(e){return{userDetails:e.ClientDetails.userDetails,role:e.Reducer.user.Role}},function(e){return{getUserDetails:function(){e({type:"GETUSERDETAILS"})},enable_disable_user:function(t){e(function(e){return{type:"ENABLEDISABLEUSER",payload:e}}(t))}}})(fa),ha={textAlign:"left",paddingTop:"10px"},ga=function(e){v.a.success(e)},ya=function(e){v.a.error(e)},Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).enable=function(){a.setState({user_details_disabled:!a.state.user_details_disabled})},a.user_details_clear=function(){a.setState({Fname:null,Lname:null,Email:null,Tel:null})},a.password_clear=function(){a.setState({oldPassword:null,newPassword:null,confirmPassword:null})},a.OnChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.updateDetails=function(){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(console.log(e.test(a.state.Email)),""==a.state.Email)ya("Please enter Email ID");else if(a.state.Fname)if(a.state.Tel)if(e.test(a.state.Email)){var t=a.state,n={Email:t.Email,Fname:t.Fname,Lname:t.Lname,Tel:t.Tel,userid:a.props.userDetails.UserId};D.a.post("/api/updateUserDetails/",n).then(function(e){console.log(e),e.data.success?(ga(e.data.msg),this.enable()):ya(e.data.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){ya("Error at Serevr connection"),console.log(e)})}else ya("Please enter proper email Id");else ya("Telephone number cannot be empty");else ya("First name cannot be empty");console.log(!1)},a.password_set=function(){if(a.state.oldPassword)if(a.state.newPassword)if(a.state.confirmPassword)if(a.state.newPassword!==a.state.confirmPassword)ya("Passwords not matching");else{var e={newPassword:a.state.newPassword,oldPassword:a.state.oldPassword,userid:a.props.userDetails.UserId};D.a.post("/api/updatePassword",e).then(function(e){console.log(e),e.data.success?(ga(e.data.msg),this.password_clear()):ya(e.data.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){e&&ya("Issue at Internet connection")})}else ya("Enter Confirm password");else ya("Enter New password");else ya("Enter old password")},a.state={user_details_disabled:!0,Fname:null,Lname:null,Email:null,Tel:null,oldPassword:null,newPassword:null,confirmPassword:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({Fname:this.props.userDetails.Fname,Lname:this.props.userDetails.Lname,Email:this.props.userDetails.Email,Tel:this.props.userDetails.Tel})}},{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:5,xl:5}),l.a.createElement(f.a,{xs:24,sm:20,md:16,lg:14,xl:14},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null,"Email Id ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Email",onChange:this.OnChange,value:this.state.Email,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null,"  ",l.a.createElement("b",null," First Name ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Fname",onChange:this.OnChange,value:this.state.Fname,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null," Last Name ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Lname",onChange:this.OnChange,value:this.state.Lname,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null," Tele Phone ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Tel",onChange:this.OnChange,value:this.state.Tel,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6}),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(b.a,{type:"primary",onClick:this.enable,style:{margin:"10px"}},this.state.user_details_disabled?"Edit":"Cancel"),l.a.createElement(b.a,{type:"primary",onClick:this.updateDetails,style:{margin:"10px"},disabled:this.state.user_details_disabled},"Update")),l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null," Old Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"oldPassword",onChange:this.OnChange,value:this.state.oldPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null," New Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"newPassword",onChange:this.OnChange,value:this.state.newPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:ha},l.a.createElement("lable",null," ",l.a.createElement("b",null," Confirm Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"confirmPassword",onChange:this.OnChange,value:this.state.confirmPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6}),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(b.a,{onClick:this.password_set,type:"primary",style:{margin:"10px"}}," Update "),l.a.createElement(b.a,{onClick:this.password_clear,style:{margin:"10px"}}," Clear ")),l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4}))),l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:5,xl:5}))}}]),t}(l.a.Component),Ca=Object(O.b)(function(e){return{userDetails:e.Reducer.user}},null)(Oa),xa=ze.a.Panel,_a=function(e){return l.a.createElement(re.a,{orientation:"left",style:{margin:0}},l.a.createElement("span",null,e.text))},Da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"!==a.props.role)return!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.isvalidated()?null:l.a.createElement(J.a,{to:"/PageNotFound"}),l.a.createElement(ze.a,{accordion:!0},l.a.createElement(xa,{header:l.a.createElement(_a,{text:"UserDetails"}),key:"1"},l.a.createElement(ba,null)),l.a.createElement(xa,{header:l.a.createElement(_a,{text:"Password Reset"}),key:"2"},l.a.createElement(Ca,null))))}}]),t}(l.a.Component),va=Object(O.b)(function(e){return{role:e.Reducer.user.Role,UserId:e.Reducer.user.UserId}},function(e){return{}})(Da),Sa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isredirect=function(){if(a.authenticated)return l.a.createElement(J.a,{to:"/"})},a.validateUser=function(){if("admin"!==a.props.role)return l.a.createElement(kt,null)},a.isredirect=a.isredirect.bind(Object(E.a)(Object(E.a)(a))),a.validateUser=a.validateUser.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("admin"),console.log(this.props)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Q,null),l.a.createElement(X.a,{query:"(max-width: 599px)"},function(t){return t?l.a.createElement(ne,e.props):l.a.createElement(te,e.props)}),l.a.createElement(G.a,null,l.a.createElement(V.a,{path:"/admin/",exact:!0,component:Nt}),l.a.createElement(V.a,{path:"/admin/clientdetails",component:$e}),l.a.createElement(V.a,{path:"/admin/Jobdetails",component:wt}),l.a.createElement(V.a,{path:"/admin/invoiceprocess",component:Ea}),l.a.createElement(V.a,{path:"/admin/UserDetails",component:va})))}}]),t}(l.a.Component),ja=Object(O.b)(function(e){return{authenticated:e.authenticated,role:e.role}})(Sa),Ta=(a(586),a(272)),Ia=a.n(Ta),wa=a(599),ka=a(607);var Aa={backgroundColor:"#b3e6ff",margin:"5px",borderRadius:"25px"},Ra=function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{type:"primary",onClick:function(){return e.click(e.record)}},"Accept"))},Na=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"===a.props.role)return!0},a.onSelect=function(e){var t=e.format("YYYY-MM-DD"),n=a.props.jobs.filter(function(e){return e.Date===t});a.setState({selectedDateJobs:n})},a.OnChange=function(e){var t=new Date(e.format("YYYY-MM-DD")),n=t.getFullYear(),l=t.getMonth(),s={from_date:new Date(n,l,1),to_date:new Date(n,l+1,0),stafftype:a.props.stafftype};a.props.staffgetjobdetails(s)},a.dateCellRender=function(e,t){var n=a.getListData(e);return l.a.createElement("div",{style:{padding:"2px"}},l.a.createElement(wa.a,{placement:"topLeft",title:"Hospital",content:n.map(function(e){return l.a.createElement("li",{key:e.Hospital},e.Client)})},l.a.createElement(z.a,{count:n.length,style:{backgroundColor:"#3366ff"}})))},a.getListData=function(e){return a.props.jobs.filter(function(t){if(t.Date==e.format("YYYY-MM-DD"))return t})},a.onAccept=function(e){console.log(e),e.UserId=a.props.UserId,e.stafftype=a.props.stafftype,a.props.resetJobConfirmStatus(),a.props.staffConfirmJob(e)},a.state={selectedDateJobs:[]},a.dateCellRender=a.dateCellRender.bind(Object(E.a)(Object(E.a)(a))),a.getListData=a.getListData.bind(Object(E.a)(Object(E.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n={from_date:new Date(t,a,1),to_date:new Date(t,a+1,0),stafftype:this.props.stafftype};this.props.staffgetjobdetails(n)}},{key:"componentWillReceiveProps",value:function(e){var t;""!=e.staffConfirmMsg&&(!0===e.staffConfirmSuccess?(t=e.staffConfirmMsg,v.a.success(t),this.props.resetJobConfirmStatus()):(!function(e){v.a.error(e)}(e.staffConfirmMsg),this.props.resetJobConfirmStatus()))}},{key:"render",value:function(){var e=this,t=[{title:"Client",dataIndex:"Client",key:"Client"},{title:"Date",dataIndex:"Date",key:"Date"},{title:"From Time",dataIndex:"start_time",key:"from_time"},{title:"To Time",dataIndex:"end_time",key:"to_time"},{title:"Action",dataIndex:"Action",key:"Action",width:100,fixed:"right",render:function(t,a){return l.a.createElement("span",null,l.a.createElement(Ra,{click:e.onAccept,record:a}))}}];return l.a.createElement("div",null,l.a.createElement(p.a,{style:{backgroundColor:"#eaeeef"}},l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:7}),l.a.createElement(f.a,{xs:24,sm:20,md:16,lg:10},l.a.createElement("div",{style:Aa},l.a.createElement(ka.a,{dateCellRender:this.dateCellRender,onSelect:this.onSelect,onChange:this.OnChange,mode:"month",fullscreen:!0}))),l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:7})),l.a.createElement(re.a,{orientation:"left"},"Accept Job"),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5,xl:5}),l.a.createElement(f.a,{xs:24,sm:24,md:16,lg:14,xl:14},l.a.createElement(Ie.a,{size:"small",style:{margin:"0px"},bordered:!0,columns:t,scroll:{x:800},dataSource:this.state.selectedDateJobs})),l.a.createElement(f.a,{xs:0,sm:0,md:4,lg:5,xl:5})))}}]),t}(l.a.Component),La=Object(O.b)(function(e){return{role:e.Reducer.user.Role,jobs:e.Reducer.staffjobDetails,stafftype:e.Reducer.user.Stafftype,UserId:e.Reducer.user.UserId,staffConfirmSuccess:e.Reducer.staffConfirmSuccess,staffConfirmMsg:e.Reducer.staffConfirmMsg}},function(e){return{staffgetjobdetails:function(t){e(function(e){return{type:"STAFFGETJOBDETAILS",payload:e}}(t))},staffConfirmJob:function(t){e(function(e){return{type:"STAFFCONFIRMJOB",payload:e}}(t))},resetJobConfirmStatus:function(){e({type:"RESET_STAFF_CONFIRM_JOB_STATUS"})}}})(Na),Fa=(ee.a.SubMenu,ee.a.ItemGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a.componentDidMount=function(){switch(a.props.location.pathname){case"/staff/jobdetails":a.setState({current:"Job Details"});break;case"/staff/Submittimesheet":a.setState({current:"Submit TimeSheet"});break;case"/staff/personaldetails":a.setState({current:"Persobal Details"})}},a.state={current:"Dash Board"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ee.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal"},l.a.createElement(ee.a.Item,{key:"Dash Board"},l.a.createElement(S.a,{to:this.props.match.url},"  Dash Board ")),l.a.createElement(ee.a.Item,{key:"Job Details"},l.a.createElement(S.a,{to:this.props.match.url+"/jobdetails"},"Job Details ")),l.a.createElement(ee.a.Item,{key:"Submit TimeSheet"},l.a.createElement(S.a,{to:this.props.match.url+"/Submittimesheet"},"    Submit TimeSheet ")),l.a.createElement(ee.a.Item,{key:"Persobal Details"},l.a.createElement(S.a,{to:this.props.match.url+"/personaldetails"},"  Personal Details "))))}}]),t}(l.a.Component)),Ja=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=l.a.createElement(ee.a,null,l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/staff/"},"  ",l.a.createElement(q.a,{type:"plus-square"}),"Dash Board ")),l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/staff/jobdetails"}," ",l.a.createElement(q.a,{type:"clock-circle"}),"Job Details ")),l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/staff/Submittimesheet"},"  ",l.a.createElement(q.a,{type:"user"}),"Submit TimeSheet ")),l.a.createElement(ee.a.Item,null,l.a.createElement(S.a,{to:"/staff/personaldetails"},"  ",l.a.createElement(q.a,{type:"user"}),"  Personal Details ")));return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:2,sm:2,md:2},l.a.createElement(ae.a,{overlay:e,placement:"bottomCenter"},l.a.createElement(b.a,null,l.a.createElement(q.a,{type:"menu-fold",theme:"outlined",style:{width:"50%",height:"100%"}}))))))}}]),t}(l.a.Component);var Pa=y.a.TextArea,Ma=(Xe.a.MonthPicker,Xe.a.RangePicker),Ua=(Ie.a.Column,Ie.a.ColumnGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e){a.setState({visible:!0,curr_record:e})},a.handleOk=function(e){console.log();var t={},n=a.state.curr_record;(t=new FormData).append("jobid",n.jobid),t.append("userid",n.userid),t.append("remarks",a.state.remarks),t.append("ack",a.state.file),D.a.post("/api/submitTimeSheet/",t).then(function(e){}).catch(function(e){}),a.setState({visible:!1,curr_record:null,remarks:""})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1,curr_record:null,file:null,remarks:""})},a.onLoad=function(){var e={startDate:a.state.startDate,endDate:a.state.endDate,userid:a.props.userid};console.log(e),a.props.getFactTableData(e)},a.OnChangeDate=function(e,t){console.log(t),a.setState({startDate:t[0],endDate:t[1]})},a.fileOnchange=function(e){console.log(e.target.files[0]),a.setState({file:e.target.files[0]})},a.remarksOnchange=function(e){a.setState({remarks:e.target.value})},a.state={visible:!1,startDate:null,endDate:null,curr_record:null,remarks:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).toISOString(),t=new Date;t.setDate(t.getDate()-30);var a={endDate:e,startDate:t.toISOString(),userid:this.props.userid};console.log(a),this.props.getFactTableData(a)}},{key:"render",value:function(){var e=this,t=(new Date).toJSON().slice(0,10),a=new Date;a.setDate(a.getDate()+30);var n=[{title:"Job ID",dataIndex:"jobid",key:"jobid",width:150},{title:"Hospital",dataIndex:"client",key:"Jobid",width:150},{title:"Date",dataIndex:"date",key:"Date",width:150},{title:"Start Time",dataIndex:"start_time",key:"jobid",width:150},{title:"End Time",dataIndex:"end_time",key:"jobid",width:150},{title:"Action",dataIndex:"Action",key:"jobid",width:150,render:function(t,a){return l.a.createElement("span",null,l.a.createElement(b.a,{type:"primary",onClick:function(){e.showModal(a)},disabled:"Y"==a.flag},"Y"==a.flag?"Approved":"Submit Time Sheet"))}}];return l.a.createElement("div",null,l.a.createElement(C.a,{title:"Proof Submission",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},l.a.createElement(y.a,{type:"file",name:"ack",onChange:this.fileOnchange}),l.a.createElement("lable",null," Remarks (Characters should be less than 200) "),l.a.createElement(Pa,{onChange:this.remarksOnchange,value:this.state.remarks}),l.a.createElement("lable",null," Characters Count : ",this.state.remarks.length," ")),l.a.createElement(p.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}),l.a.createElement(f.a,{xs:24,sm:24,md:20,lg:20,xl:20},l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(Ma,{defaultValue:[se()(t,"YYYY/MM/DD"),se()(a,"YYYY/MM/DD")],onChange:this.OnChangeDate}),l.a.createElement(b.a,{type:"primary",style:{margin:"5px"},onClick:this.onLoad},"Load")),l.a.createElement("div",null,l.a.createElement(Ie.a,{columns:n,size:"medium",scroll:{x:1e3},dataSource:this.props.factTableData}))),l.a.createElement(f.a,{xs:0,sm:0,md:2,lg:2,xl:2}))),l.a.createElement(f.a,null)))}}]),t}(l.a.Component)),Ba=Object(O.b)(function(e){return{userid:e.Reducer.user.UserId,factTableData:e.StaffDashboard.factTableData}},function(e){return{getFactTableData:function(t){e(function(e){return{type:"GETFACTTABLEDATA",payload:e}}(t))}}})(Ua),Ya={textAlign:"left",paddingTop:"10px"},Ha=function(e){v.a.success(e)},Ga=function(e){v.a.error(e)},Va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).enable=function(){a.setState({user_details_disabled:!a.state.user_details_disabled})},a.user_details_clear=function(){a.setState({Fname:null,Lname:null,Email:null,Tel:null})},a.password_clear=function(){a.setState({oldPassword:null,newPassword:null,confirmPassword:null})},a.OnChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.updateDetails=function(){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(console.log(e.test(a.state.Email)),""==a.state.Email)Ga("Please enter Email ID");else if(a.state.Fname)if(a.state.Tel)if(e.test(a.state.Email)){var t=a.state,n={Email:t.Email,Fname:t.Fname,Lname:t.Lname,Tel:t.Tel,userid:a.props.userDetails.UserId};D.a.post("/api/updateUserDetails/",n).then(function(e){console.log(e),e.data.success?(Ha(e.data.msg),this.enable()):Ga(e.data.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){Ga("Error at Serevr connection"),console.log(e)})}else Ga("Please enter proper email Id");else Ga("Telephone number cannot be empty");else Ga("First name cannot be empty");console.log(!1)},a.password_set=function(){if(a.state.oldPassword)if(a.state.newPassword)if(a.state.confirmPassword)if(a.state.newPassword!==a.state.confirmPassword)Ga("Passwords not matching");else{var e={newPassword:a.state.newPassword,oldPassword:a.state.oldPassword,userid:a.props.userDetails.UserId};D.a.post("/api/updatePassword",e).then(function(e){console.log(e),e.data.success?(Ha(e.data.msg),this.password_clear()):Ga(e.data.msg)}.bind(Object(E.a)(Object(E.a)(a)))).catch(function(e){e&&Ga("Issue at Internet connection")})}else Ga("Enter Confirm password");else Ga("Enter New password");else Ga("Enter old password")},a.state={user_details_disabled:!0,Fname:null,Lname:null,Email:null,Tel:null,oldPassword:null,newPassword:null,confirmPassword:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({Fname:this.props.userDetails.Fname,Lname:this.props.userDetails.Lname,Email:this.props.userDetails.Email,Tel:this.props.userDetails.Tel})}},{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:5,xl:5}),l.a.createElement(f.a,{xs:24,sm:20,md:16,lg:14,xl:14},l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null,"Email Id ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Email",onChange:this.OnChange,value:this.state.Email,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null,"  ",l.a.createElement("b",null," First Name ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Fname",onChange:this.OnChange,value:this.state.Fname,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null," Last Name ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Lname",onChange:this.OnChange,value:this.state.Lname,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null," Tele Phone ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{name:"Tel",onChange:this.OnChange,value:this.state.Tel,disabled:this.state.user_details_disabled}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6}),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(b.a,{type:"primary",onClick:this.enable,style:{margin:"10px"}},this.state.user_details_disabled?"Edit":"Cancel"),l.a.createElement(b.a,{type:"primary",onClick:this.updateDetails,style:{margin:"10px"},disabled:this.state.user_details_disabled},"Update")),l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4})),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null," Old Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"oldPassword",onChange:this.OnChange,value:this.state.oldPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null," New Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"newPassword",onChange:this.OnChange,value:this.state.newPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6,style:Ya},l.a.createElement("lable",null," ",l.a.createElement("b",null," Confirm Password ")," ")),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(y.a,{type:"password",name:"confirmPassword",onChange:this.OnChange,value:this.state.confirmPassword}))),l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:6,xl:6}),l.a.createElement(f.a,{xs:10,sm:10,md:10,lg:10,xl:10},l.a.createElement(b.a,{onClick:this.password_set,type:"primary",style:{margin:"10px"}}," Update "),l.a.createElement(b.a,{onClick:this.password_clear,style:{margin:"10px"}}," Clear ")),l.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,xl:4}))),l.a.createElement(f.a,{xs:0,sm:2,md:4,lg:5,xl:5}))}}]),t}(l.a.Component),qa=Object(O.b)(function(e){return{userDetails:e.Reducer.user}},null)(Va);var za=function(e){v.a.error(e)},Wa=(Xe.a.MonthPicker,Xe.a.RangePicker),Ka=Ie.a.Column,Za=(Ie.a.ColumnGroup,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).isvalidated=function(){if("staff"===a.props.role)return!0},a.OnChangeDate=function(e,t){console.log(t),a.setState({from_date:t[0],to_date:t[1]})},a.loadJobs=function(){var e={};if(null==a.state.from_date){var t=new Date,n=new Date;n.setDate(n.getDate()+30),e.from_date=t,e.to_date=n,e.userid=a.props.UserId,a.props.getStaffJobDetails(e)}else e.from_date=new Date,e.to_date=a.state.to_date,e.userid=a.props.UserId,a.props.getStaffJobDetails(e)},a.onSelectChange=function(e,t){0!=t.length?a.setState({selectedRowKeys:e,selectedRows:t,rowsSelected:!1}):a.setState({selectedRows:t,selectedRowKeys:e,rowsSelected:!0})},a.OnDeleteJobs=function(){var e,t=[];a.state.selectedRows.length>0?(t=a.state.selectedRows.map(function(e){return e.jobid}),console.log(t),(e={}).jobs=t,e.userid=a.props.UserId,a.props.deleteStaffJobs(e),(e={}).from_date=a.state.from_date,e.to_date=a.state.to_date,e.userid=a.props.UserId,a.loadJobs(e),a.setState({rowsSelected:!0})):za("Please select jobs to delete")},a.state={from_date:null,to_date:null,selectedRows:[],selectedRowKeys:[],rowsSelected:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadJobs()}},{key:"render",value:function(){var e=(new Date).toJSON().slice(0,10),t=new Date;t.setDate(t.getDate()+30);var a={onChange:this.onSelectChange};return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,{xs:0,sm:2,md:2,lg:2,xl:2}),l.a.createElement(f.a,{xs:24,sm:20,md:20,lg:20,xl:20},l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(Wa,{onChange:this.OnChangeDate,defaultValue:[se()(e,"YYYY/MM/DD"),se()(t,"YYYY/MM/DD")]}),l.a.createElement(b.a,{type:"primary",style:{margin:"5px"},onClick:this.loadJobs,rowSelection:a},"Load"),l.a.createElement(b.a,{type:"primary",style:{margin:"5px"},onClick:this.OnDeleteJobs},"Decline Job")),l.a.createElement("div",null,l.a.createElement(Ie.a,Object(u.a)({rowSelection:a,scroll:{x:800},pagination:{pageSizeOptions:["5","10"],showSizeChanger:!0},size:"small",dataSource:this.props.staffScheduledJobs},"size","medium"),l.a.createElement(Ka,{title:"JobID",dataIndex:"jobid",key:"jobid",fixed:"left"}),l.a.createElement(Ka,{title:"Hospital",dataIndex:"client"}),l.a.createElement(Ka,{title:"Date",dataIndex:"date"}),l.a.createElement(Ka,{title:"Start Time",dataIndex:"start_time"}),l.a.createElement(Ka,{title:"End Time",dataIndex:"end_time"})))),l.a.createElement(f.a,{xs:0,sm:2,md:2,lg:2,xl:2}))),l.a.createElement(f.a,null)))}}]),t}(l.a.Component)),$a=Object(O.b)(function(e){return{role:e.Reducer.user.Role,staffScheduledJobs:e.StaffDashboard.staffScheduledJobs,UserId:e.Reducer.user.UserId}},function(e){return{getStaffJobDetails:function(t){e(function(e){return{type:"GETSTAFFJOBDETAILS",payload:e}}(t))},deleteStaffJobs:function(t){e(function(e){return{type:"DELETESTAFFJOBS",payload:e}}(t))}}})(Za),Qa=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Q,null),l.a.createElement(X.a,{query:"(max-width: 599px)"},function(t){return t?l.a.createElement(Ja,e.props):l.a.createElement(Fa,e.props)}),l.a.createElement(V.a,{exact:!0,path:"/staff/",component:La}),l.a.createElement(V.a,{path:"/staff/jobdetails",component:$a}),l.a.createElement(V.a,{path:"/staff/Submittimesheet",component:Ba}),l.a.createElement(V.a,{path:"/staff/personaldetails",component:qa}))}}]),t}(l.a.Component),Xa={fontFamily:" 'Titillium Web','Chinese Quote','sans-serif'",height:"100%"};Ia.a.load({google:{families:["Titillium Web:300,400,700","sans-serif"]}});var en=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App",style:Xa},l.a.createElement(G.a,null,l.a.createElement(V.a,{exact:!0,path:"/",component:H}),l.a.createElement(V.a,{path:"/newuser",component:F}),l.a.createElement(V.a,{path:"/staff",component:Qa}),l.a.createElement(V.a,{path:"/admin",component:ja}),l.a.createElement(V.a,{path:"/PageNotFound",component:kt})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=a(609),an=a(67),nn={user:{},isauthenticated:!1,authenticationMsg:"",authFailed:!1,actions:{addclient:!1},clients:[],addJobflag:!1,addJobMsg:"",jobDetails:[],staffjobDetails:[],job:{},editJobMsg:"",editJobFlag:!1,adminDashboardJobs:[],clientInvoiceRates:[],staffInvoiceRates:[],staffConfirmSuccess:!1,staffConfirmMsg:""};var ln=a(273),sn={addClientMsg:"",addClientSuccess:!1,activeClients:[],inactiveClients:[],disableClientFlag:!1,disableClientMsg:"",enableClientFlag:!1,enableClientMsg:"",getEditClient:{},addShiftFlag:!1,addShiftMsg:"",shiftDetails:[],updateClientMsg:"",updateClientFlag:!1,userDetails:[]};var rn=a(191),cn=a(274),on=a(20),dn=a.n(on),mn=a(13),un=a(146),En=a.n(un);function pn(e){if(e){D.a.defaults.headers.common.Authorization="Bearer ${token}";En()(e)}else delete D.a.defaults.headers.common.Authorization}var fn=a(149),bn=dn.a.mark(qn),hn=dn.a.mark(zn),gn=dn.a.mark(Wn),yn=dn.a.mark(Kn),On=dn.a.mark(Zn),Cn=dn.a.mark($n),xn=dn.a.mark(Qn),_n=dn.a.mark(Xn),Dn=dn.a.mark(el),vn=dn.a.mark(tl),Sn=dn.a.mark(al),jn=dn.a.mark(nl),Tn=dn.a.mark(ll),In=dn.a.mark(sl),wn=dn.a.mark(rl),kn=dn.a.mark(il),An=dn.a.mark(cl),Rn=dn.a.mark(ol),Nn=dn.a.mark(dl),Ln=dn.a.mark(ml),Fn=dn.a.mark(ul),Jn=dn.a.mark(El),Pn=dn.a.mark(pl),Mn=dn.a.mark(fl),Un=dn.a.mark(bl),Bn=dn.a.mark(hl),Yn=dn.a.mark(gl),Hn=dn.a.mark(yl),Gn=dn.a.mark(Ol),Vn=dn.a.mark(Cl);function qn(e){var t,a;return dn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),{headers:{"content-type":"multipart/form-data"}},n.next=4,Object(mn.a)(D.a.post,"/api/login/",{Data:e.payload});case 4:if(!0!==(t=n.sent).data.success){n.next=20;break}return a=t.data.Token,localStorage.setItem("jwtToken",a),pn(a),n.next=11,Object(mn.b)({type:"SET_CURRENT_USER",user:t.data});case 11:if("admin"!==t.data.Role){n.next=16;break}return n.next=14,Object(mn.b)(Object(fn.push)("/admin"));case 14:n.next=18;break;case 16:return n.next=18,Object(mn.b)(Object(fn.push)("/staff"));case 18:n.next=22;break;case 20:return n.next=22,Object(mn.b)({type:"AUTH_ERROR",msg:t.data.msg});case 22:case"end":return n.stop()}},bn,this)}function zn(){return dn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("jwtToken"),pn(),e.next=4,Object(mn.b)({type:"RE_SET_CURRENT_USER"});case 4:return e.next=6,Object(mn.b)(Object(fn.push)("/"));case 6:case"end":return e.stop()}},hn,this)}function Wn(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.b)({type:"SET_ADD_CLIENT"});case 2:return a.next=4,Object(mn.a)(D.a.post,"/api/addclient/",{Data:e.payload});case 4:if(!0!==(t=a.sent).data.success){a.next=11;break}return console.log(t),a.next=9,Object(mn.b)({type:"RESET_ADD_CLIENT",msg:t.data.msg,success:t.data.success});case 9:a.next=14;break;case 11:return console.log(t),a.next=14,Object(mn.b)({type:"RESET_ADD_CLIENT",msg:t.data.msg,success:t.data.success});case 14:case"end":return a.stop()}},gn,this)}function Kn(){var e,t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/activegetClients/",{});case 2:return e=a.sent,t=e.data.activeclients.map(function(e){return e.ct_name}),a.next=6,Object(mn.b)({type:"SET_ACTIVE_CLIENTS",clients:t});case 6:case"end":return a.stop()}},yn,this)}function Zn(){var e,t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/inactivegetClients/",{});case 2:return e=a.sent,t=e.data.inactiveclients.map(function(e){return e.ct_name}),console.log(t),a.next=7,Object(mn.b)({type:"SET_INACTIVE_CLIENTS",clients:t});case 7:case"end":return a.stop()}},On,this)}function $n(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,Object(mn.a)(D.a.post,"/api/disableClient/",{Data:e.payload});case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(mn.b)({type:"SET_DISABLE_CLIENT",success:t.data.success,msg:t.data.msg});case 7:case"end":return a.stop()}},Cn,this)}function Qn(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("enable"),a.next=3,Object(mn.a)(D.a.post,"/api/enableClient/",{Data:e.payload});case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(mn.b)({type:"SET_ENABLE_CLIENT",success:t.data.success,msg:t.data.msg});case 7:case"end":return a.stop()}},xn,this)}function Xn(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/getEditClient/",{Data:e.payload});case 2:if(t=a.sent,console.log(t.data.getEditClient),!t){a.next=7;break}return a.next=7,Object(mn.b)({type:"SET_EDIT_CLIENT",data:t.data.getEditClient});case 7:case"end":return a.stop()}},_n,this)}function el(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("enable"),a.next=3,Object(mn.a)(D.a.post,"/api/updateEditClient/",{Data:e.payload});case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(mn.b)({type:"RESET_EDIT_CLIENT",flag:t.data.success,msg:t.data.msg});case 7:case"end":return a.stop()}},Dn,this)}function tl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload),a.next=3,Object(mn.a)(D.a.post,"/api/addShift/",{Data:e.payload});case 3:if(!(t=a.sent)){a.next=7;break}return a.next=7,Object(mn.b)({type:"RESET_ADDSHIFT",flag:t.data.success,msg:t.data.msg});case 7:case"end":return a.stop()}},vn,this)}function al(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,Object(mn.a)(D.a.post,"/api/getShiftDetails/",{Data:e.payload});case 3:if(t=a.sent,console.log(t.data.shiftDetails),!t){a.next=8;break}return a.next=8,Object(mn.b)({type:"SET_SHIFT_DETAILS",flag:t.data.success,shiftDetails:t.data.shiftDetails});case 8:case"end":return a.stop()}},Sn,this)}function nl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.b)({type:"SET_ADD_JOB"});case 2:return a.next=4,Object(mn.a)(D.a.post,"/api/addJob/",{Data:e.payload});case 4:return(t=a.sent).data.success,a.next=8,Object(mn.b)({type:"RESET_ADD_JOB",msg:t.data.msg,success:t.data.success});case 8:case"end":return a.stop()}},jn,this)}function ll(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload),a.next=3,Object(mn.a)(D.a.post,"/api/getJob/",{Data:e.payload});case 3:return t=a.sent,console.log(t.data.job),a.next=7,Object(mn.b)({type:"SET_JOB",job:t.data.job});case 7:case"end":return a.stop()}},Tn,this)}function sl(e){return dn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.payload),t.next=3,Object(mn.a)(D.a.post,"/api/deleteClients/",{Data:e.payload});case 3:t.sent;case 4:case"end":return t.stop()}},In,this)}function rl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload),a.next=3,Object(mn.a)(D.a.post,"/api/getJobDetails/",{Data:e.payload});case 3:return t=a.sent,console.log(t.data.jobs),a.next=7,Object(mn.b)({type:"SET_JOB_DETAILS",jobDetails:t.data.jobs});case 7:case"end":return a.stop()}},wn,this)}function il(e){return dn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In delete Jobs"),console.log(typeof e.payload),t.next=4,Object(mn.a)(D.a.post,"/api/deleteJobs/",{Data:e.payload});case 4:t.sent;case 5:case"end":return t.stop()}},kn,this)}function cl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/updateeditjob/",{Data:e.payload});case 2:return t=a.sent,a.next=5,Object(mn.b)({type:"SET_EDIT_JOB",success:t.data.success,msg:t.data.msg});case 5:case"end":return a.stop()}},An,this)}function ol(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/staffgetjobdetails/",{Data:e.payload});case 2:return t=a.sent,console.log("In saga"),a.next=6,Object(mn.b)({type:"SET_STAFF_JOB_DETAILS",success:t.data.success,jobDetails:t.data.jobs});case 6:case"end":return a.stop()}},Rn,this)}function dl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload),a.next=3,Object(mn.a)(D.a.post,"/api/staffconfirmjob/",{Data:e.payload});case 3:return t=a.sent,console.log(t.data),a.next=7,Object(mn.b)({type:"SET_STAFF_CONFIRM_JOB_STATUS",success:t.data.success,msg:t.data.msg});case 7:case"end":return a.stop()}},Nn,this)}function ml(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload),console.log("in saga"),a.next=4,Object(mn.a)(D.a.post,"/api/staffScheduledJobDetails/",{Data:e.payload});case 4:return t=a.sent,console.log(t.data),a.next=8,Object(mn.b)({type:"STAFF_SCHEDULED_JOBS",success:t.data.success,jobs:t.data.jobs});case 8:case"end":return a.stop()}},Ln,this)}function ul(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("In Saga "),console.log(e.payload),a.next=4,Object(mn.a)(D.a.post,"/api/getAdminDashboardDetails/",{Data:e.payload});case 4:return t=a.sent,a.next=7,Object(mn.b)({type:"SET_ADMIN_DASHBOARD",success:t.data.success,jobs:t.data.rows});case 7:case"end":return a.stop()}},Fn,this)}function El(e){var t;return dn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In saga before call"),e.next=3,Object(mn.a)(D.a.post,"/api/getClientInvoiceRates/");case 3:return t=e.sent,console.log(t.data),e.next=7,Object(mn.b)({type:"SET_CLIENT_INVOICE_RATES",success:t.data.success,clientInvoiceRates:t.data.rates});case 7:case"end":return e.stop()}},Jn,this)}function pl(e){var t;return dn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In saga before call"),e.next=3,Object(mn.a)(D.a.post,"/api/getStaffInvoiceRates/");case 3:return t=e.sent,console.log(t.data),e.next=7,Object(mn.b)({type:"SET_STAFF_INVOICE_RATES",success:t.data.success,staffInvoiceRates:t.data.staffInvoiceRates});case 7:case"end":return e.stop()}},Pn,this)}function fl(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("saga update invoice rates"),console.log(e),a.next=4,Object(mn.a)(D.a.post,"/api/updateInvoiceRates/",{Data:e.payload});case 4:t=a.sent,console.log(t.data);case 6:case"end":return a.stop()}},Mn,this)}function bl(e){var t;return dn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In Saga get user details "),e.next=3,Object(mn.a)(D.a.post,"/api/getUserDetails/");case 3:return t=e.sent,console.log(t.data),e.next=7,Object(mn.b)({type:"SET_USERDETAILS",success:t.data.success,userDetails:t.data.userDetails});case 7:case"end":return e.stop()}},Un,this)}function hl(e){return dn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(mn.a)(D.a.post,"/api/enableDisableUser",{Data:e.payload});case 2:1==t.sent.data.success&&bl();case 4:case"end":return t.stop()}},Bn,this)}function gl(e){return dn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(mn.a)(D.a.post,"/api/deleteStaffJobs",{Data:e.payload});case 2:t.sent;case 3:case"end":return t.stop()}},Yn,this)}function yl(e){return dn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("in saga approve timesheet"),t.next=3,Object(mn.a)(D.a.post,"/api/approveTimeSheet",{Data:e.payload});case 3:t.sent;case 4:case"end":return t.stop()}},Hn,this)}function Ol(e){var t;return dn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(mn.a)(D.a.post,"/api/getFactTableData/",{Data:e.payload});case 2:if(!(t=a.sent)){a.next=6;break}return a.next=6,Object(mn.b)({type:"SET_FACT_TABLE_DATA",payload:t.data.factTable});case 6:case"end":return a.stop()}},Gn,this)}function Cl(){return dn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mn.c)("LOGIN",qn);case 2:return e.next=4,Object(mn.c)("LOGOUT",zn);case 4:return e.next=6,Object(mn.d)("ADDCLIENT",Wn);case 6:return e.next=8,Object(mn.c)("ACTIVEGETCLIENTS",Kn);case 8:return e.next=10,Object(mn.c)("INACTIVEGETCLIENTS",Zn);case 10:return e.next=12,Object(mn.d)("DISABLECLIENT",$n);case 12:return e.next=14,Object(mn.d)("ENABLECLINET",Qn);case 14:return e.next=16,Object(mn.d)("GETEDITCLIENT",Xn);case 16:return e.next=18,Object(mn.d)("UPDATEEDITCLIENT",el);case 18:return e.next=20,Object(mn.d)("ADDSHIFT",tl);case 20:return e.next=22,Object(mn.d)("GETSHIFTDETAILS",al);case 22:return e.next=24,Object(mn.d)("ADDJOB",nl);case 24:return e.next=26,Object(mn.d)("DELETECLECNTS",sl);case 26:return e.next=28,Object(mn.d)("GETJOBDETAILS",rl);case 28:return e.next=30,Object(mn.d)("GETJOB",ll);case 30:return e.next=32,Object(mn.d)("DELETEJOBS",il);case 32:return e.next=34,Object(mn.d)("UPDATEJOBDETAILS",cl);case 34:return e.next=36,Object(mn.d)("GETADMINDASHBOARDDETAILS",ul);case 36:return e.next=38,Object(mn.d)("STAFFGETJOBDETAILS",ol);case 38:return e.next=40,Object(mn.d)("STAFFCONFIRMJOB",dl);case 40:return e.next=42,Object(mn.d)("GETSTAFFJOBDETAILS",ml);case 42:return e.next=44,Object(mn.d)("GETCLIENTINOVICERATES",El);case 44:return e.next=46,Object(mn.d)("GETSTAFFINOVICERATES",pl);case 46:return e.next=48,Object(mn.d)("UPDATEINVOICERATES",fl);case 48:return e.next=50,Object(mn.d)("GETUSERDETAILS",bl);case 50:return e.next=52,Object(mn.d)("ENABLEDISABLEUSER",hl);case 52:return e.next=54,Object(mn.d)("DELETESTAFFJOBS",gl);case 54:return e.next=56,Object(mn.d)("GETFACTTABLEDATA",Ol);case 56:return e.next=58,Object(mn.d)("APPROVETIMESHREET",yl);case 58:case"end":return e.stop()}},Vn,this)}var xl=a(275),_l={staffConfirmJob_status:!1,staffConfirmJob_msg:"",staffScheduledJobs:null,factTableData:[]};var Dl=Object(an.combineReducers)({ClientDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ADD_CLIENT":return Object.assign({},e,{addClientSuccess:!1,addClientMsg:""});case"BEGIN_ADD_CLIENT":return Object.assign({},e,{addClientMsg:""});case"RESET_ADD_CLIENT":return Object.assign({},e,{addClientSuccess:t.success,addClientMsg:t.msg});case"SET_ACTIVE_CLIENTS":return Object.assign({},e,{activeClients:t.clients});case"SET_INACTIVE_CLIENTS":return Object.assign({},e,{inactiveClients:t.clients});case"SET_DISABLE_CLIENT":return Object.assign({},e,{disableClientFlag:t.success,disableClientMsg:t.msg});case"RESET_DISABLE_CLIENT":return Object.assign({},e,{disableClientFlag:!1,disableClientMsg:""});case"SET_ENABLE_CLIENT":return Object.assign({},e,{disableClientFlag:t.success,disableClientMsg:t.msg});case"RESET_ENABLE_CLIENT":return Object.assign({},e,{enableClientFlag:!1,enableClientMsg:""});case"SET_EDIT_CLIENT":return console.log(t.getEditClient),Object.assign({},e,{getEditClient:Object(ln.a)({},t.data),updateClientFlag:!1,updateClientMsg:""});case"RESET_EDIT_CLIENT":return Object.assign({},e,{updateClientFlag:t.flag,updateClientMsg:t.msg});case"RESET_ADDSHIFT":return Object.assign({},e,{addShiftFlag:t.flag,addShiftMsg:t.msg});case"SET_SHIFT_DETAILS":return Object.assign({},e,{shiftDetails:t.shiftDetails});case"SET_USERDETAILS":return Object.assign({},e,{userDetails:t.userDetails})}return e},Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object.assign({},e,{isauthenticated:!0,user:{Fname:t.user.Fname,Lname:t.user.Lname,Tel:t.user.Tel,Email:t.user.Emailid,Role:t.user.Role,Stafftype:t.user.Stafftype,UserId:t.user.UserId}});case"AUTH_ERROR":return Object.assign({},e,{authFailed:!0,user:{},authenticationMsg:t.msg,isauthenticated:!1});case"RE_SET_CURRENT_USER":return Object.assign({},e,{authFailed:!1,user:{},isauthenticated:!1});case"SET_ADD_JOB":return Object.assign({},e,{addJobflag:!1,addJobMsg:""});case"RESET_ADD_JOB":return Object.assign({},e,{addJobflag:t.success,addJobMsg:t.msg});case"SET_JOB_DETAILS":var a=[];if(0!=(l=t.jobDetails).length)for(var n=0;n<=l.length-1;n++)a.push({key:l[n].jobid,JobID:l[n].jobid,Client:l[n].client,Date:l[n].date.slice(0,10),Staff:l[n].worker,start_time:l[n].start_time,end_time:l[n].end_time,Requested:l[n].count,Filled:l[n].filled});return Object.assign({},e,{jobDetails:a});case"SET_JOB":return a={key:(l=t.job)[0].jobid,JobID:l[0].jobid,Client:l[0].client,Date:l[0].date.slice(0,10),Staff:l[0].worker,shift_id:l[0].shift_id,Requested:l[0].count,Availability:l[0].left},Object.assign({},e,{job:a});case"SET_EDIT_JOB":return Object.assign({},e,{editJobMsg:t.msg,editJobFlag:t.success});case"RESET_EDIT_JOB":return Object.assign({},e,{editJobMsg:"",editJobFlag:!1});case"SET_STAFF_JOB_DETAILS":if(console.log(t.jobs),a=[],0!=(l=t.jobDetails).length)for(n=0;n<=l.length-1;n++)a.push({key:l[n].jobid,JobID:l[n].jobid,Client:l[n].client,Date:l[n].date.slice(0,10),Staff:l[n].worker,start_time:l[n].start_time,end_time:l[n].end_time,Requested:l[n].count,Availability:l[n].left});return Object.assign({},e,{staffjobDetails:a});case"SET_ADMIN_DASHBOARD":var l;if(a=[],0!=(l=t.jobs).length)for(n=0;n<=l.length-1;n++)a.push({jobid:l[n].jobid,client:l[n].client,Fname:l[n].Fname,staff_type:l[n].worker,date:l[n].date.slice(0,10),start_time:l[n].start_time,end_time:l[n].end_time,shift_type:l[n].shift_type});else a=[];return Object.assign({},e,{adminDashboardJobs:a});case"SET_CLIENT_INVOICE_RATES":return Object.assign({},e,{clientInvoiceRates:t.clientInvoiceRates});case"SET_STAFF_INVOICE_RATES":return Object.assign({},e,{staffInvoiceRates:t.staffInvoiceRates});case"SET_STAFF_CONFIRM_JOB_STATUS":return Object.assign({},e,{staffConfirmSuccess:t.success,staffConfirmMsg:t.msg});case"RESET_STAFF_CONFIRM_JOB_STATUS":return Object.assign({},e,{staffConfirmSuccess:!1,staffConfirmMsg:""})}return e},StaffDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STAFF_CONFIRM_JOB":return Object.assign({},e,{staffConfirmJob_status:t.success,staffConfirmJob_msg:t.msg});case"STAFF_SCHEDULED_JOBS":console.log("in reducer"),console.log(t.jobs);var a=t.jobs,n=[];if(0!=a.length)for(var l=0;l<=a.length-1;l++)n.push({key:a[l].jobid,jobid:a[l].jobid,client:a[l].client,date:a[l].date,start_time:a[l].start_time,end_time:a[l].end_time});return Object.assign({},e,{staffScheduledJobs:n});case"SET_FACT_TABLE_DATA":return console.log(t.payload),Object.assign({},e,{factTableData:t.payload});default:return e}}}),vl=Object(rn.a)(),Sl=Object(an.createStore)(Dl,Object(xl.fromJS)({}),Object(cn.composeWithDevTools)(Object(an.applyMiddleware)(vl)));if(vl.run(Cl),localStorage.jwtToken){pn(localStorage.jwtToken);var jl=En()(localStorage.jwtToken);Sl.dispatch({type:"SET_CURRENT_USER",user:jl})}r.a.render(l.a.createElement(O.a,{store:Sl},l.a.createElement(tn.a,null,l.a.createElement(en,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[278,2,1]]]);
//# sourceMappingURL=main.1f7ef805.chunk.js.map